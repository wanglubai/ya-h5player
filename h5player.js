!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i(i.s=16)}([function(e,t,i){"use strict";(function(e){var n=i(5);i(15);t.a=class extends n.a{constructor(){super(),this._display=null,this._width=null,this._height=null,this._yparent=null}initDisplay(e){return this._display=e,this}initHtmlDisplay(t){return this._display=e(t),this}initDivDisplay(t){return this._display=e('<div class="ya-'+t+'"></div>'),this}css(){if(1==arguments.length)return this._display.css(arguments[0]);this._display.css(arguments[0],arguments[1])}$position(){return this._display.position()}$find(){return this._display.find(arguments[0])}attr(){this._display.attr(arguments[0],arguments[1])}addClass(){for(var e=0;e<arguments.length;e++)this._display.addClass(arguments[e])}removeClass(){for(var e=0;e<arguments.length;e++)this._display.removeClass(arguments[e])}$append(){for(var e=0;e<arguments.length;e++)this._display.append(arguments[e]),arguments[e].yparent=this}$appendTo(){this._display.appendTo(arguments[0]),this._yparent=arguments[0]}append(){for(var e=0;e<arguments.length;e++)this._display.append(arguments[e].display),arguments[e].yparent=this}get offset_left(){return this._display.offset().left}get offset_top(){return this._display.offset().top}appendTo(e){this._display.appendTo(e.display),this._yparent=e}appendToById(t){this._display.appendTo(e("#"+t))}show(){this._display.show()}hide(){this._display.hide()}$on(){this._display.on(arguments[0],arguments[1])}$text(){this._display.text(arguments[0])}resizeFresh(){}destory(){this.removeEvent(),super.destory()}get yparent(){return this._yparent}set yparent(e){this._yparent=e}get cacheWidth(){return this._width||(this._width=this._display.outerWidth()),this._width}get cacheHeight(){return this._height||(this._height=this._display.height()),this._height}get display(){return this._display}set vo(e){this._vo=e}get vo(){return this._vo}}}).call(this,i(11))},function(e,t,i){var n,r,s={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),o=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var i=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),l=null,h=0,u=[],d=i(74);function c(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=s[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(y(n.parts[a],t))}else{var o=[];for(a=0;a<n.parts.length;a++)o.push(y(n.parts[a],t));s[n.id]={id:n.id,refs:1,parts:o}}}}function p(e,t){for(var i=[],n={},r=0;r<e.length;r++){var s=e[r],a=t.base?s[0]+t.base:s[0],o={css:s[1],media:s[2],sourceMap:s[3]};n[a]?n[a].parts.push(o):i.push(n[a]={id:a,parts:[o]})}return i}function f(e,t){var i=o(e.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=u[u.length-1];if("top"===e.insertAt)n?n.nextSibling?i.insertBefore(t,n.nextSibling):i.appendChild(t):i.insertBefore(t,i.firstChild),u.push(t);else if("bottom"===e.insertAt)i.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=o(e.insertInto+" "+e.insertAt.before);i.insertBefore(t,r)}}function _(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function m(e){var t=document.createElement("style");return e.attrs.type="text/css",g(t,e.attrs),f(e,t),t}function g(e,t){Object.keys(t).forEach(function(i){e.setAttribute(i,t[i])})}function y(e,t){var i,n,r,s;if(t.transform&&e.css){if(!(s=t.transform(e.css)))return function(){};e.css=s}if(t.singleton){var a=h++;i=l||(l=m(t)),n=E.bind(null,i,a,!1),r=E.bind(null,i,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",g(t,e.attrs),f(e,t),t}(t),n=function(e,t,i){var n=i.css,r=i.sourceMap,s=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||s)&&(n=d(n));r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}.bind(null,i,t),r=function(){_(i),i.href&&URL.revokeObjectURL(i.href)}):(i=m(t),n=function(e,t){var i=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}.bind(null,i),r=function(){_(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var i=p(e,t);return c(i,t),function(e){for(var n=[],r=0;r<i.length;r++){var a=i[r];(o=s[a.id]).refs--,n.push(o)}e&&c(p(e,t),t);for(r=0;r<n.length;r++){var o;if(0===(o=n[r]).refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete s[o.id]}}}};var v,b=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function E(e,t,i,n){var r=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=b(t,r);else{var s=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var r=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),s=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[i].concat(s).concat([r]).join("\n")}var a;return[i].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(n[s]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},function(e,t,i){"use strict";(function(e){var n=i(5),r=i(0);t.a=new class extends n.a{constructor(){super(),this.VideoLayer=null,this.DanmakuLayer=null,this.BarLayer=null,this.TipsLayer=null,this.GiftLayer=null}init(t){this.VideoLayer=(new r.a).initDivDisplay("video-layer"),this.LoadLayer=(new r.a).initDivDisplay("load-layer"),this.DanmakuLayer=(new r.a).initDivDisplay("danmuku-layer"),this.TipsLayer=(new r.a).initDivDisplay("tips-layer"),this.GiftLayer=(new r.a).initDivDisplay("gift-layer"),this.BarLayer=(new r.a).initDivDisplay("bar-layer"),t.append(this.VideoLayer,this.LoadLayer,this.DanmakuLayer,this.GiftLayer,this.BarLayer),this.TipsLayer.$appendTo(e("body"))}}}).call(this,i(11))},function(e,t){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},i.prototype.emit=function(e){var t,i,a,o,l,h;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(s(i=this._events[e]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),i.apply(this,o)}else if(r(i))for(o=Array.prototype.slice.call(arguments,1),a=(h=i.slice()).length,l=0;l<a;l++)h[l].apply(this,o);return!0},i.prototype.addListener=function(e,t){var a;if(!n(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?r(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,r(this._events[e])&&!this._events[e].warned&&(a=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var i=!1;function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},i.prototype.removeListener=function(e,t){var i,s,a,o;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(i=this._events[e]).length,s=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(o=a;o-- >0;)if(i[o]===t||i[o].listener&&i[o].listener===t){s=o;break}if(s<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},i.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[e]))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},i.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},i.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},i.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,i){"use strict";var n=i(10);i(15),i(9);t.a=class extends n.a{constructor(){super(),this._listeners={}}on(e,t){this._listeners[e]?-1==this._listeners[e].indexOf(t)&&this._listeners[e].push(t):this._listeners[e]=[t]}ons(){for(var e=arguments.length-1,t=0;t<e;t++)this.on(arguments[t],arguments[e])}removeListener(e,t){var i=this._listeners[e];if(i){var n=i.indexOf(t);-1!=n&&(i.splice(n,1),0==i.length&&delete this._listeners[e])}}emit(e){var t=null,i={};if("string"==typeof e?(t=e,i.type=t):(t=e.type,i=e),t){var n=this._listeners[t];if(n)for(var r in n)n[r](i)}}destroy(){super.destroy()}}},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t,i){"use strict";var n=i(12);t.a=class extends n.a{constructor(){super(),this._conut=null}_addEvent_(){this.$on("mouseenter",this.show.bind(this)),this.$on("mouseleave",this._hide.bind(this))}show(){this._clearCount(),super.show()}hide(){this._clearCount(),this._addCount()}_addCount(){this._conut=setTimeout(this._hide.bind(this),1e3)}_hide(){super.hide(),this._clearCount()}_clearCount(){this._conut&&(clearTimeout(this._conut),this._conut=null)}}},function(e,t,i){"use strict";(function(e){i(60);var n=i(7);i(3);class r extends n.a{constructor(){super();this.initHtmlDisplay("<div class='ya-music-tips'><div class='ya-music-tips-bg'></div><div class='ya-music-tips-container'><div class='ya-music-tips-probg'></div><div class='ya-music-tips-event'></div><div class='ya-music-tips-btn-container'><div class='ya-music-tips-btn'><div class='ya-music-tips-btn-position'></div><div class='ya-music-tips-btn-bg'></div><div class='ya-music-tips-describe'></div></div></div></div></div>"),this._addEvent_(),this._startClickY=0,this._startBtnY=0,this._volume=0,this._y=0}_init(){this._updateView()}_dealVo_(e){switch(e.type){case"init":this._proBgHeight=this.$find(".ya-music-tips-probg").height(),this.volume=e.value,this._init();break;case"change":this.volume=e.value,this._updateView()}}_addEvent_(){super._addEvent_(),this.$find(".ya-music-tips-event").on("mousedown",e=>this._eventFun(e,"hit")),this.$find(".ya-music-tips-btn-container").on("mousedown",e=>this._eventFun(e,"hitStart"))}_eventFun(e,t){switch(t){case"hit":this._y=Math.min(Math.max(0,e.offsetY),this._proBgHeight),this._volume=parseInt(100*(1-this._y/this._proBgHeight)),this._updateView(),this.emit({type:r.Value_Change,value:this._volume});break;case"hitStart":return this._startClickY=e.clientY,this._startBtnY=parseInt(this.$find(".ya-music-tips-btn").css("top").replace(/px/,"")),this._hitStart(),!1;case"documentMove":this._y=Math.min(Math.max(0,this._startBtnY+e.clientY-this._startClickY),this._proBgHeight),this._volume=parseInt(100*(1-this._y/this._proBgHeight)),this._updateView(),this.emit({type:r.Value_Change,value:this._volume});break;case"documentUp":this._documentOff(),this.emit({type:r.Value_Change,value:this._volume})}}_updateView(){this.$find(".ya-music-tips-btn").css("top",this._y),this.$find(".ya-music-tips-probg").css("height",this._proBgHeight-this._y+"px"),this.$find(".ya-music-tips-probg").css("top",this._y+"px"),this.$find(".ya-music-tips-describe").text(this._volume)}_hitStart(){return e(document).on("mousemove",e=>this._eventFun(e,"documentMove")),e(document).on("mouseup",e=>this._eventFun(e,"documentUp")),!1}_documentOff(){e(document).off("mousemove"),e(document).off("mouseup")}set volume(e){this._volume=e,this._y=(1-this._volume/100)*this._proBgHeight}}r.Value_Change="MusicTips.Value_Change",t.a=r}).call(this,i(11))},function(e,t,i){"use strict";t.a=new class{constructor(){}log(){console.log(arguments[0])}}},function(e,t,i){"use strict";(function(e){var n=i(9);class r{constructor(){this._claseeName=this.constructor.name,this._resReady=!1,this._destroy_=!1,this._cacheVos=[]}setCacheVo(e){this.destorystatus||(this._cacheVos.push(e),this._resReady&&this._updateVo())}setVo(e){this.destorystatus||this._dealVo_(e)}_dealVo_(e){}_addEvent_(){}_removeEvent_(){}_updateVo(){if(!this.destorystatus)for(;this._cacheVos.length>0;)this._dealVo_(this._cacheVos.shift())}funCreateDom(t){return e(t)}set resReady(e){e&&(this._resReady=!0,this._updateVo())}destory(){this._removeEvent_(),this._destroy_=!0,n.a.log("destory")}get destorystatus(){return this._destroy_}}r.Index=0,t.a=r}).call(this,i(11))},function(e,t,i){var n;!function(t,i){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return i(e)}:i(t)}("undefined"!=typeof window?window:this,function(i,r){"use strict";var s=[],a=i.document,o=Object.getPrototypeOf,l=s.slice,h=s.concat,u=s.push,d=s.indexOf,c={},p=c.toString,f=c.hasOwnProperty,_=f.toString,m=_.call(Object),g={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},v=function(e){return null!=e&&e===e.window},b={type:!0,src:!0,noModule:!0};function E(e,t,i){var n,r=(t=t||a).createElement("script");if(r.text=e,i)for(n in b)i[n]&&(r[n]=i[n]);t.head.appendChild(r).parentNode.removeChild(r)}function S(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[p.call(e)]||"object":typeof e}var x=function(e,t){return new x.fn.init(e,t)},w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function L(e){var t=!!e&&"length"in e&&e.length,i=S(e);return!y(e)&&!v(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}x.fn=x.prototype={jquery:"3.3.1",constructor:x,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:s.sort,splice:s.splice},x.extend=x.fn.extend=function(){var e,t,i,n,r,s,a=arguments[0]||{},o=1,l=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[o]||{},o++),"object"==typeof a||y(a)||(a={}),o===l&&(a=this,o--);o<l;o++)if(null!=(e=arguments[o]))for(t in e)i=a[t],a!==(n=e[t])&&(h&&n&&(x.isPlainObject(n)||(r=Array.isArray(n)))?(r?(r=!1,s=i&&Array.isArray(i)?i:[]):s=i&&x.isPlainObject(i)?i:{},a[t]=x.extend(h,s,n)):void 0!==n&&(a[t]=n));return a},x.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i;return!(!e||"[object Object]"!==p.call(e))&&(!(t=o(e))||"function"==typeof(i=f.call(t,"constructor")&&t.constructor)&&_.call(i)===m)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){E(e)},each:function(e,t){var i,n=0;if(L(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(w,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(L(Object(e))?x.merge(i,"string"==typeof e?[e]:e):u.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:d.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,s=e.length,a=!i;r<s;r++)!t(e[r],r)!==a&&n.push(e[r]);return n},map:function(e,t,i){var n,r,s=0,a=[];if(L(e))for(n=e.length;s<n;s++)null!=(r=t(e[s],s,i))&&a.push(r);else for(s in e)null!=(r=t(e[s],s,i))&&a.push(r);return h.apply([],a)},guid:1,support:g}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=s[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});var T=function(e){var t,i,n,r,s,a,o,l,h,u,d,c,p,f,_,m,g,y,v,b="sizzle"+1*new Date,E=e.document,S=0,x=0,w=ae(),L=ae(),T=ae(),k=function(e,t){return e===t&&(d=!0),0},A={}.hasOwnProperty,C=[],R=C.pop,D=C.push,I=C.push,B=C.slice,O=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",P="\\["+N+"*("+U+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+N+"*\\]",F=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",V=new RegExp(N+"+","g"),j=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),H=new RegExp("^"+N+"*,"+N+"*"),G=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),q=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),z=new RegExp(F),$=new RegExp("^"+U+"$"),W={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),ee=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ne=function(){c()},re=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{I.apply(C=B.call(E.childNodes),E.childNodes),C[E.childNodes.length].nodeType}catch(e){I={apply:C.length?function(e,t){D.apply(e,B.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function se(e,t,n,r){var s,o,h,u,d,f,g,y=t&&t.ownerDocument,S=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return n;if(!r&&((t?t.ownerDocument||t:E)!==p&&c(t),t=t||p,_)){if(11!==S&&(d=J.exec(e)))if(s=d[1]){if(9===S){if(!(h=t.getElementById(s)))return n;if(h.id===s)return n.push(h),n}else if(y&&(h=y.getElementById(s))&&v(t,h)&&h.id===s)return n.push(h),n}else{if(d[2])return I.apply(n,t.getElementsByTagName(e)),n;if((s=d[3])&&i.getElementsByClassName&&t.getElementsByClassName)return I.apply(n,t.getElementsByClassName(s)),n}if(i.qsa&&!T[e+" "]&&(!m||!m.test(e))){if(1!==S)y=t,g=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ie):t.setAttribute("id",u=b),o=(f=a(e)).length;o--;)f[o]="#"+u+" "+ge(f[o]);g=f.join(","),y=Q.test(e)&&_e(t.parentNode)||t}if(g)try{return I.apply(n,y.querySelectorAll(g)),n}catch(e){}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(j,"$1"),t,n,r)}function ae(){var e=[];return function t(i,r){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=r}}function oe(e){return e[b]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var i=e.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=t}function ue(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ce(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return oe(function(t){return t=+t,oe(function(i,n){for(var r,s=e([],i.length,t),a=s.length;a--;)i[r=s[a]]&&(i[r]=!(n[r]=i[r]))})})}function _e(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=se.support={},s=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},c=se.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:E;return a!==p&&9===a.nodeType&&a.documentElement?(f=(p=a).documentElement,_=!s(p),E!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ne,!1):r.attachEvent&&r.attachEvent("onunload",ne)),i.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=le(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=Y.test(p.getElementsByClassName),i.getById=le(function(e){return f.appendChild(e).id=b,!p.getElementsByName||!p.getElementsByName(b).length}),i.getById?(n.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&_){var i=t.getElementById(e);return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&_){var i,n,r,s=t.getElementById(e);if(s){if((i=s.getAttributeNode("id"))&&i.value===e)return[s];for(r=t.getElementsByName(e),n=0;s=r[n++];)if((i=s.getAttributeNode("id"))&&i.value===e)return[s]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&_)return t.getElementsByClassName(e)},g=[],m=[],(i.qsa=Y.test(p.querySelectorAll))&&(le(function(e){f.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+N+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+b+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+N+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(i.matchesSelector=Y.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le(function(e){i.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),g.push("!=",F)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(f.compareDocumentPosition),v=t||Y.test(f.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return d=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e===p||e.ownerDocument===E&&v(E,e)?-1:t===p||t.ownerDocument===E&&v(E,t)?1:u?O(u,e)-O(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return d=!0,0;var i,n=0,r=e.parentNode,s=t.parentNode,a=[e],o=[t];if(!r||!s)return e===p?-1:t===p?1:r?-1:s?1:u?O(u,e)-O(u,t):0;if(r===s)return ue(e,t);for(i=e;i=i.parentNode;)a.unshift(i);for(i=t;i=i.parentNode;)o.unshift(i);for(;a[n]===o[n];)n++;return n?ue(a[n],o[n]):a[n]===E?-1:o[n]===E?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(q,"='$1']"),i.matchesSelector&&_&&!T[t+" "]&&(!g||!g.test(t))&&(!m||!m.test(t)))try{var n=y.call(e,t);if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),v(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==p&&c(e);var r=n.attrHandle[t.toLowerCase()],s=r&&A.call(n.attrHandle,t.toLowerCase())?r(e,t,!_):void 0;return void 0!==s?s:i.attributes||!_?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},se.escape=function(e){return(e+"").replace(te,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,s=0;if(d=!i.detectDuplicates,u=!i.sortStable&&e.slice(0),e.sort(k),d){for(;t=e[s++];)t===e[s]&&(r=n.push(s));for(;r--;)e.splice(n[r],1)}return u=null,e},r=se.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n++];)i+=r(t);return i},(n=se.selectors={cacheLength:50,createPseudo:oe,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&z.test(i)&&(t=a(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=w[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&w(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=se.attr(n,e);return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r.replace(V," ")+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var h,u,d,c,p,f,_=s!==a?"nextSibling":"previousSibling",m=t.parentNode,g=o&&t.nodeName.toLowerCase(),y=!l&&!o,v=!1;if(m){if(s){for(;_;){for(c=t;c=c[_];)if(o?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;f=_="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(v=(p=(h=(u=(d=(c=m)[b]||(c[b]={}))[c.uniqueID]||(d[c.uniqueID]={}))[e]||[])[0]===S&&h[1])&&h[2],c=p&&m.childNodes[p];c=++p&&c&&c[_]||(v=p=0)||f.pop();)if(1===c.nodeType&&++v&&c===t){u[e]=[S,p,v];break}}else if(y&&(v=p=(h=(u=(d=(c=t)[b]||(c[b]={}))[c.uniqueID]||(d[c.uniqueID]={}))[e]||[])[0]===S&&h[1]),!1===v)for(;(c=++p&&c&&c[_]||(v=p=0)||f.pop())&&((o?c.nodeName.toLowerCase()!==g:1!==c.nodeType)||!++v||(y&&((u=(d=c[b]||(c[b]={}))[c.uniqueID]||(d[c.uniqueID]={}))[e]=[S,v]),c!==t)););return(v-=r)===n||v%n==0&&v/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,i){for(var n,s=r(e,t),a=s.length;a--;)e[n=O(e,s[a])]=!(i[n]=s[a])}):function(e){return r(e,0,i)}):r}},pseudos:{not:oe(function(e){var t=[],i=[],n=o(e.replace(j,"$1"));return n[b]?oe(function(e,t,i,r){for(var s,a=n(e,null,r,[]),o=e.length;o--;)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,r,s){return t[0]=e,n(t,null,s,i),t[0]=null,!i.pop()}}),has:oe(function(e){return function(t){return se(e,t).length>0}}),contains:oe(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:oe(function(e){return $.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var i;do{if(i=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,i){return[i<0?i+t:i]}),even:fe(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:fe(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:fe(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n);return e}),gt:fe(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=ce(t);function me(){}function ge(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function ye(e,t,i){var n=t.dir,r=t.next,s=r||n,a=i&&"parentNode"===s,o=x++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||a)return e(t,i,r);return!1}:function(t,i,l){var h,u,d,c=[S,o];if(l){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(u=(d=t[b]||(t[b]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[n]||t;else{if((h=u[s])&&h[0]===S&&h[1]===o)return c[2]=h[2];if(u[s]=c,c[2]=e(t,i,l))return!0}return!1}}function ve(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function be(e,t,i,n,r){for(var s,a=[],o=0,l=e.length,h=null!=t;o<l;o++)(s=e[o])&&(i&&!i(s,n,r)||(a.push(s),h&&t.push(o)));return a}function Ee(e,t,i,n,r,s){return n&&!n[b]&&(n=Ee(n)),r&&!r[b]&&(r=Ee(r,s)),oe(function(s,a,o,l){var h,u,d,c=[],p=[],f=a.length,_=s||function(e,t,i){for(var n=0,r=t.length;n<r;n++)se(e,t[n],i);return i}(t||"*",o.nodeType?[o]:o,[]),m=!e||!s&&t?_:be(_,c,e,o,l),g=i?r||(s?e:f||n)?[]:a:m;if(i&&i(m,g,o,l),n)for(h=be(g,p),n(h,[],o,l),u=h.length;u--;)(d=h[u])&&(g[p[u]]=!(m[p[u]]=d));if(s){if(r||e){if(r){for(h=[],u=g.length;u--;)(d=g[u])&&h.push(m[u]=d);r(null,g=[],h,l)}for(u=g.length;u--;)(d=g[u])&&(h=r?O(s,d):c[u])>-1&&(s[h]=!(a[h]=d))}}else g=be(g===a?g.splice(f,g.length):g),r?r(null,a,g,l):I.apply(a,g)})}function Se(e){for(var t,i,r,s=e.length,a=n.relative[e[0].type],o=a||n.relative[" "],l=a?1:0,u=ye(function(e){return e===t},o,!0),d=ye(function(e){return O(t,e)>-1},o,!0),c=[function(e,i,n){var r=!a&&(n||i!==h)||((t=i).nodeType?u(e,i,n):d(e,i,n));return t=null,r}];l<s;l++)if(i=n.relative[e[l].type])c=[ye(ve(c),i)];else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[b]){for(r=++l;r<s&&!n.relative[e[r].type];r++);return Ee(l>1&&ve(c),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(j,"$1"),i,l<r&&Se(e.slice(l,r)),r<s&&Se(e=e.slice(r)),r<s&&ge(e))}c.push(i)}return ve(c)}return me.prototype=n.filters=n.pseudos,n.setFilters=new me,a=se.tokenize=function(e,t){var i,r,s,a,o,l,h,u=L[e+" "];if(u)return t?0:u.slice(0);for(o=e,l=[],h=n.preFilter;o;){for(a in i&&!(r=H.exec(o))||(r&&(o=o.slice(r[0].length)||o),l.push(s=[])),i=!1,(r=G.exec(o))&&(i=r.shift(),s.push({value:i,type:r[0].replace(j," ")}),o=o.slice(i.length)),n.filter)!(r=W[a].exec(o))||h[a]&&!(r=h[a](r))||(i=r.shift(),s.push({value:i,type:a,matches:r}),o=o.slice(i.length));if(!i)break}return t?o.length:o?se.error(e):L(e,l).slice(0)},o=se.compile=function(e,t){var i,r=[],s=[],o=T[e+" "];if(!o){for(t||(t=a(e)),i=t.length;i--;)(o=Se(t[i]))[b]?r.push(o):s.push(o);(o=T(e,function(e,t){var i=t.length>0,r=e.length>0,s=function(s,a,o,l,u){var d,f,m,g=0,y="0",v=s&&[],b=[],E=h,x=s||r&&n.find.TAG("*",u),w=S+=null==E?1:Math.random()||.1,L=x.length;for(u&&(h=a===p||a||u);y!==L&&null!=(d=x[y]);y++){if(r&&d){for(f=0,a||d.ownerDocument===p||(c(d),o=!_);m=e[f++];)if(m(d,a||p,o)){l.push(d);break}u&&(S=w)}i&&((d=!m&&d)&&g--,s&&v.push(d))}if(g+=y,i&&y!==g){for(f=0;m=t[f++];)m(v,b,a,o);if(s){if(g>0)for(;y--;)v[y]||b[y]||(b[y]=R.call(l));b=be(b)}I.apply(l,b),u&&!s&&b.length>0&&g+t.length>1&&se.uniqueSort(l)}return u&&(S=w,h=E),v};return i?oe(s):s}(s,r))).selector=e}return o},l=se.select=function(e,t,i,r){var s,l,h,u,d,c="function"==typeof e&&e,p=!r&&a(e=c.selector||e);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(h=l[0]).type&&9===t.nodeType&&_&&n.relative[l[1].type]){if(!(t=(n.find.ID(h.matches[0].replace(Z,ee),t)||[])[0]))return i;c&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(s=W.needsContext.test(e)?0:l.length;s--&&(h=l[s],!n.relative[u=h.type]);)if((d=n.find[u])&&(r=d(h.matches[0].replace(Z,ee),Q.test(l[0].type)&&_e(t.parentNode)||t))){if(l.splice(s,1),!(e=r.length&&ge(l)))return I.apply(i,r),i;break}}return(c||o(e,p))(r,t,!_,i,!t||Q.test(e)&&_e(t.parentNode)||t),i},i.sortStable=b.split("").sort(k).join("")===b,i.detectDuplicates=!!d,c(),i.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||he("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||he("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||he(M,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),se}(i);x.find=T,x.expr=T.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=T.uniqueSort,x.text=T.getText,x.isXMLDoc=T.isXML,x.contains=T.contains,x.escapeSelector=T.escape;var k=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&x(e).is(i))break;n.push(e)}return n},A=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},C=x.expr.match.needsContext;function R(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(e,t,i){return y(t)?x.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?x.grep(e,function(e){return e===t!==i}):"string"!=typeof t?x.grep(e,function(e){return d.call(t,e)>-1!==i}):x.filter(t,e,i)}x.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?x.find.matchesSelector(n,e)?[n]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},x.fn.extend({find:function(e){var t,i,n=this.length,r=this;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;t<n;t++)if(x.contains(r[t],this))return!0}));for(i=this.pushStack([]),t=0;t<n;t++)x.find(e,r[t],i);return n>1?x.uniqueSort(i):i},filter:function(e){return this.pushStack(I(this,e||[],!1))},not:function(e){return this.pushStack(I(this,e||[],!0))},is:function(e){return!!I(this,"string"==typeof e&&C.test(e)?x(e):e||[],!1).length}});var B,O=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,i){var n,r;if(!e)return this;if(i=i||B,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:O.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),D.test(n[1])&&x.isPlainObject(t))for(n in t)y(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=a.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==i.ready?i.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,B=x(a);var M=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function U(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(x.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,s=[],a="string"!=typeof e&&x(e);if(!C.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&x.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?x.uniqueSort(s):s)},index:function(e){return e?"string"==typeof e?d.call(x(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,i){return k(e,"parentNode",i)},next:function(e){return U(e,"nextSibling")},prev:function(e){return U(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,i){return k(e,"nextSibling",i)},prevUntil:function(e,t,i){return k(e,"previousSibling",i)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return R(e,"iframe")?e.contentDocument:(R(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},function(e,t){x.fn[e]=function(i,n){var r=x.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=x.filter(n,r)),this.length>1&&(N[e]||x.uniqueSort(r),M.test(e)&&r.reverse()),this.pushStack(r)}});var P=/[^\x20\t\r\n\f]+/g;function F(e){return e}function V(e){throw e}function j(e,t,i,n){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(i):e&&y(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}x.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return x.each(e.match(P)||[],function(e,i){t[i]=!0}),t}(e):x.extend({},e);var t,i,n,r,s=[],a=[],o=-1,l=function(){for(r=r||e.once,n=t=!0;a.length;o=-1)for(i=a.shift();++o<s.length;)!1===s[o].apply(i[0],i[1])&&e.stopOnFalse&&(o=s.length,i=!1);e.memory||(i=!1),t=!1,r&&(s=i?[]:"")},h={add:function(){return s&&(i&&!t&&(o=s.length-1,a.push(i)),function t(i){x.each(i,function(i,n){y(n)?e.unique&&h.has(n)||s.push(n):n&&n.length&&"string"!==S(n)&&t(n)})}(arguments),i&&!t&&l()),this},remove:function(){return x.each(arguments,function(e,t){for(var i;(i=x.inArray(t,s,i))>-1;)s.splice(i,1),i<=o&&o--}),this},has:function(e){return e?x.inArray(e,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=a=[],i||t||(s=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=[e,(i=i||[]).slice?i.slice():i],a.push(i),t||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},x.extend({Deferred:function(e){var t=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return x.Deferred(function(i){x.each(t,function(t,n){var r=y(e[n[4]])&&e[n[4]];s[n[1]](function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,n,r){var s=0;function a(e,t,n,r){return function(){var o=this,l=arguments,h=function(){var i,h;if(!(e<s)){if((i=n.apply(o,l))===t.promise())throw new TypeError("Thenable self-resolution");h=i&&("object"==typeof i||"function"==typeof i)&&i.then,y(h)?r?h.call(i,a(s,t,F,r),a(s,t,V,r)):(s++,h.call(i,a(s,t,F,r),a(s,t,V,r),a(s,t,F,t.notifyWith))):(n!==F&&(o=void 0,l=[i]),(r||t.resolveWith)(o,l))}},u=r?h:function(){try{h()}catch(i){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(i,u.stackTrace),e+1>=s&&(n!==V&&(o=void 0,l=[i]),t.rejectWith(o,l))}};e?u():(x.Deferred.getStackHook&&(u.stackTrace=x.Deferred.getStackHook()),i.setTimeout(u))}}return x.Deferred(function(i){t[0][3].add(a(0,i,y(r)?r:F,i.notifyWith)),t[1][3].add(a(0,i,y(e)?e:F)),t[2][3].add(a(0,i,y(n)?n:V))}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},s={};return x.each(t,function(e,i){var a=i[2],o=i[5];r[i[1]]=a.add,o&&a.add(function(){n=o},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(i[3].fire),s[i[0]]=function(){return s[i[0]+"With"](this===s?void 0:this,arguments),this},s[i[0]+"With"]=a.fireWith}),r.promise(s),e&&e.call(s,s),s},when:function(e){var t=arguments.length,i=t,n=Array(i),r=l.call(arguments),s=x.Deferred(),a=function(e){return function(i){n[e]=this,r[e]=arguments.length>1?l.call(arguments):i,--t||s.resolveWith(n,r)}};if(t<=1&&(j(e,s.done(a(i)).resolve,s.reject,!t),"pending"===s.state()||y(r[i]&&r[i].then)))return s.then();for(;i--;)j(r[i],a(i),s.reject);return s.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,t){i.console&&i.console.warn&&e&&H.test(e.name)&&i.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},x.readyException=function(e){i.setTimeout(function(){throw e})};var G=x.Deferred();function q(){a.removeEventListener("DOMContentLoaded",q),i.removeEventListener("load",q),x.ready()}x.fn.ready=function(e){return G.then(e).catch(function(e){x.readyException(e)}),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==e&&--x.readyWait>0||G.resolveWith(a,[x]))}}),x.ready.then=G.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?i.setTimeout(x.ready):(a.addEventListener("DOMContentLoaded",q),i.addEventListener("load",q));var z=function(e,t,i,n,r,s,a){var o=0,l=e.length,h=null==i;if("object"===S(i))for(o in r=!0,i)z(e,t,o,i[o],!0,s,a);else if(void 0!==n&&(r=!0,y(n)||(a=!0),h&&(a?(t.call(e,n),t=null):(h=t,t=function(e,t,i){return h.call(x(e),i)})),t))for(;o<l;o++)t(e[o],i,a?n:n.call(e[o],o,t(e[o],i)));return r?e:h?t.call(e):l?t(e[0],i):s},$=/^-ms-/,W=/-([a-z])/g;function K(e,t){return t.toUpperCase()}function X(e){return e.replace($,"ms-").replace(W,K)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=x.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e);if("string"==typeof t)r[X(t)]=i;else for(n in t)r[X(n)]=t[n];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando];if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(X):(t=X(t))in n?[t]:t.match(P)||[]).length;for(;i--;)delete n[t[i]]}(void 0===t||x.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var Q=new J,Z=new J,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ie(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(i)}catch(e){}Z.set(e,t,i)}else i=void 0;return i}x.extend({hasData:function(e){return Z.hasData(e)||Q.hasData(e)},data:function(e,t,i){return Z.access(e,t,i)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,i){return Q.access(e,t,i)},_removeData:function(e,t){Q.remove(e,t)}}),x.fn.extend({data:function(e,t){var i,n,r,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(r=Z.get(s),1===s.nodeType&&!Q.get(s,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=X(n.slice(5)),ie(s,n,r[n]));Q.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Z.set(this,e)}):z(this,function(t){var i;if(s&&void 0===t)return void 0!==(i=Z.get(s,e))?i:void 0!==(i=ie(s,e))?i:void 0;this.each(function(){Z.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Z.remove(this,e)})}}),x.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=Q.get(e,t),i&&(!n||Array.isArray(i)?n=Q.access(e,t,x.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=x.queue(e,t),n=i.length,r=i.shift(),s=x._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,function(){x.dequeue(e,t)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Q.get(e,i)||Q.access(e,i,{empty:x.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",i])})})}}),x.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?x.queue(this[0],e):void 0===t?this:this.each(function(){var i=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=x.Deferred(),s=this,a=this.length,o=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=Q.get(s[a],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(o));return o(),r.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),se=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&x.contains(e.ownerDocument,e)&&"none"===x.css(e,"display")},oe=function(e,t,i,n){var r,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];for(s in r=i.apply(e,n||[]),t)e.style[s]=a[s];return r};function le(e,t,i,n){var r,s,a=20,o=n?function(){return n.cur()}:function(){return x.css(e,t,"")},l=o(),h=i&&i[3]||(x.cssNumber[t]?"":"px"),u=(x.cssNumber[t]||"px"!==h&&+l)&&re.exec(x.css(e,t));if(u&&u[3]!==h){for(l/=2,h=h||u[3],u=+l||1;a--;)x.style(e,t,u+h),(1-s)*(1-(s=o()/l||.5))<=0&&(a=0),u/=s;u*=2,x.style(e,t,u+h),i=i||[]}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=u,n.end=r)),r}var he={};function ue(e){var t,i=e.ownerDocument,n=e.nodeName,r=he[n];return r||(t=i.body.appendChild(i.createElement(n)),r=x.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),he[n]=r,r)}function de(e,t){for(var i,n,r=[],s=0,a=e.length;s<a;s++)(n=e[s]).style&&(i=n.style.display,t?("none"===i&&(r[s]=Q.get(n,"display")||null,r[s]||(n.style.display="")),""===n.style.display&&ae(n)&&(r[s]=ue(n))):"none"!==i&&(r[s]="none",Q.set(n,"display",i)));for(s=0;s<a;s++)null!=r[s]&&(e[s].style.display=r[s]);return e}x.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?x(this).show():x(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,fe=/^$|^module$|\/(?:java|ecma)script/i,_e={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function me(e,t){var i;return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&R(e,t)?x.merge([e],i):i}function ge(e,t){for(var i=0,n=e.length;i<n;i++)Q.set(e[i],"globalEval",!t||Q.get(t[i],"globalEval"))}_e.optgroup=_e.option,_e.tbody=_e.tfoot=_e.colgroup=_e.caption=_e.thead,_e.th=_e.td;var ye,ve,be=/<|&#?\w+;/;function Ee(e,t,i,n,r){for(var s,a,o,l,h,u,d=t.createDocumentFragment(),c=[],p=0,f=e.length;p<f;p++)if((s=e[p])||0===s)if("object"===S(s))x.merge(c,s.nodeType?[s]:s);else if(be.test(s)){for(a=a||d.appendChild(t.createElement("div")),o=(pe.exec(s)||["",""])[1].toLowerCase(),l=_e[o]||_e._default,a.innerHTML=l[1]+x.htmlPrefilter(s)+l[2],u=l[0];u--;)a=a.lastChild;x.merge(c,a.childNodes),(a=d.firstChild).textContent=""}else c.push(t.createTextNode(s));for(d.textContent="",p=0;s=c[p++];)if(n&&x.inArray(s,n)>-1)r&&r.push(s);else if(h=x.contains(s.ownerDocument,s),a=me(d.appendChild(s),"script"),h&&ge(a),i)for(u=0;s=a[u++];)fe.test(s.type||"")&&i.push(s);return d}ye=a.createDocumentFragment().appendChild(a.createElement("div")),(ve=a.createElement("input")).setAttribute("type","radio"),ve.setAttribute("checked","checked"),ve.setAttribute("name","t"),ye.appendChild(ve),g.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var Se=a.documentElement,xe=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Le=/^([^.]*)(?:\.(.+)|)/;function Te(){return!0}function ke(){return!1}function Ae(){try{return a.activeElement}catch(e){}}function Ce(e,t,i,n,r,s){var a,o;if("object"==typeof t){for(o in"string"!=typeof i&&(n=n||i,i=void 0),t)Ce(e,o,i,n,t[o],s);return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=ke;else if(!r)return e;return 1===s&&(a=r,(r=function(e){return x().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=x.guid++)),e.each(function(){x.event.add(this,t,r,n,i)})}x.event={global:{},add:function(e,t,i,n,r){var s,a,o,l,h,u,d,c,p,f,_,m=Q.get(e);if(m)for(i.handler&&(i=(s=i).handler,r=s.selector),r&&x.find.matchesSelector(Se,r),i.guid||(i.guid=x.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),h=(t=(t||"").match(P)||[""]).length;h--;)p=_=(o=Le.exec(t[h])||[])[1],f=(o[2]||"").split(".").sort(),p&&(d=x.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=x.event.special[p]||{},u=x.extend({type:p,origType:_,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:f.join(".")},s),(c=l[p])||((c=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,n,f,a)||e.addEventListener&&e.addEventListener(p,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),r?c.splice(c.delegateCount++,0,u):c.push(u),x.event.global[p]=!0)},remove:function(e,t,i,n,r){var s,a,o,l,h,u,d,c,p,f,_,m=Q.hasData(e)&&Q.get(e);if(m&&(l=m.events)){for(h=(t=(t||"").match(P)||[""]).length;h--;)if(p=_=(o=Le.exec(t[h])||[])[1],f=(o[2]||"").split(".").sort(),p){for(d=x.event.special[p]||{},c=l[p=(n?d.delegateType:d.bindType)||p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=c.length;s--;)u=c[s],!r&&_!==u.origType||i&&i.guid!==u.guid||o&&!o.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(c.splice(s,1),u.selector&&c.delegateCount--,d.remove&&d.remove.call(e,u));a&&!c.length&&(d.teardown&&!1!==d.teardown.call(e,f,m.handle)||x.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)x.event.remove(e,p+t[h],i,n,!0);x.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,s,a,o=x.event.fix(e),l=new Array(arguments.length),h=(Q.get(this,"events")||{})[o.type]||[],u=x.event.special[o.type]||{};for(l[0]=o,t=1;t<arguments.length;t++)l[t]=arguments[t];if(o.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,o)){for(a=x.event.handlers.call(this,o,h),t=0;(r=a[t++])&&!o.isPropagationStopped();)for(o.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!o.isImmediatePropagationStopped();)o.rnamespace&&!o.rnamespace.test(s.namespace)||(o.handleObj=s,o.data=s.data,void 0!==(n=((x.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l))&&!1===(o.result=n)&&(o.preventDefault(),o.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,o),o.result}},handlers:function(e,t){var i,n,r,s,a,o=[],l=t.delegateCount,h=e.target;if(l&&h.nodeType&&!("click"===e.type&&e.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==e.type||!0!==h.disabled)){for(s=[],a={},i=0;i<l;i++)void 0===a[r=(n=t[i]).selector+" "]&&(a[r]=n.needsContext?x(r,this).index(h)>-1:x.find(r,this,null,[h]).length),a[r]&&s.push(n);s.length&&o.push({elem:h,handlers:s})}return h=this,l<t.length&&o.push({elem:h,handlers:t.slice(l)}),o},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ae()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ae()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&R(this,"input"))return this.click(),!1},_default:function(e){return R(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Te:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},x.event.addProp),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||x.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),x.fn.extend({on:function(e,t,i,n){return Ce(this,e,t,i,n)},one:function(e,t,i,n){return Ce(this,e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,x(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=ke),this.each(function(){x.event.remove(this,e,i,t)})}});var Re=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,De=/<script|<style|<link/i,Ie=/checked\s*(?:[^=]|=\s*.checked.)/i,Be=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return R(e,"table")&&R(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function Me(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ne(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ue(e,t){var i,n,r,s,a,o,l,h;if(1===t.nodeType){if(Q.hasData(e)&&(s=Q.access(e),a=Q.set(t,s),h=s.events))for(r in delete a.handle,a.events={},h)for(i=0,n=h[r].length;i<n;i++)x.event.add(t,r,h[r][i]);Z.hasData(e)&&(o=Z.access(e),l=x.extend({},o),Z.set(t,l))}}function Pe(e,t,i,n){t=h.apply([],t);var r,s,a,o,l,u,d=0,c=e.length,p=c-1,f=t[0],_=y(f);if(_||c>1&&"string"==typeof f&&!g.checkClone&&Ie.test(f))return e.each(function(r){var s=e.eq(r);_&&(t[0]=f.call(this,r,s.html())),Pe(s,t,i,n)});if(c&&(s=(r=Ee(t,e[0].ownerDocument,!1,e,n)).firstChild,1===r.childNodes.length&&(r=s),s||n)){for(o=(a=x.map(me(r,"script"),Me)).length;d<c;d++)l=r,d!==p&&(l=x.clone(l,!0,!0),o&&x.merge(a,me(l,"script"))),i.call(e[d],l,d);if(o)for(u=a[a.length-1].ownerDocument,x.map(a,Ne),d=0;d<o;d++)l=a[d],fe.test(l.type||"")&&!Q.access(l,"globalEval")&&x.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?x._evalUrl&&x._evalUrl(l.src):E(l.textContent.replace(Be,""),u,l))}return e}function Fe(e,t,i){for(var n,r=t?x.filter(t,e):e,s=0;null!=(n=r[s]);s++)i||1!==n.nodeType||x.cleanData(me(n)),n.parentNode&&(i&&x.contains(n.ownerDocument,n)&&ge(me(n,"script")),n.parentNode.removeChild(n));return e}x.extend({htmlPrefilter:function(e){return e.replace(Re,"<$1></$2>")},clone:function(e,t,i){var n,r,s,a,o,l,h,u=e.cloneNode(!0),d=x.contains(e.ownerDocument,e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(a=me(u),n=0,r=(s=me(e)).length;n<r;n++)o=s[n],l=a[n],void 0,"input"===(h=l.nodeName.toLowerCase())&&ce.test(o.type)?l.checked=o.checked:"input"!==h&&"textarea"!==h||(l.defaultValue=o.defaultValue);if(t)if(i)for(s=s||me(e),a=a||me(u),n=0,r=s.length;n<r;n++)Ue(s[n],a[n]);else Ue(e,u);return(a=me(u,"script")).length>0&&ge(a,!d&&me(e,"script")),u},cleanData:function(e){for(var t,i,n,r=x.event.special,s=0;void 0!==(i=e[s]);s++)if(Y(i)){if(t=i[Q.expando]){if(t.events)for(n in t.events)r[n]?x.event.remove(i,n):x.removeEvent(i,n,t.handle);i[Q.expando]=void 0}i[Z.expando]&&(i[Z.expando]=void 0)}}}),x.fn.extend({detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return z(this,function(e){return void 0===e?x.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(me(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!De.test(e)&&!_e[(pe.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(x.cleanData(me(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Pe(this,arguments,function(t){var i=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(me(this)),i&&i.replaceChild(t,this))},e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){for(var i,n=[],r=x(e),s=r.length-1,a=0;a<=s;a++)i=a===s?this:this.clone(!0),x(r[a])[t](i),u.apply(n,i.get());return this.pushStack(n)}});var Ve=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=i),t.getComputedStyle(e)},He=new RegExp(se.join("|"),"i");function Ge(e,t,i){var n,r,s,a,o=e.style;return(i=i||je(e))&&(""!==(a=i.getPropertyValue(t)||i[t])||x.contains(e.ownerDocument,e)||(a=x.style(e,t)),!g.pixelBoxStyles()&&Ve.test(a)&&He.test(t)&&(n=o.width,r=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=i.width,o.width=n,o.minWidth=r,o.maxWidth=s)),void 0!==a?a+"":a}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){h.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Se.appendChild(h).appendChild(u);var e=i.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",o=36===t(e.right),r=36===t(e.width),u.style.position="absolute",s=36===u.offsetWidth||"absolute",Se.removeChild(h),u=null}}function t(e){return Math.round(parseFloat(e))}var n,r,s,o,l,h=a.createElement("div"),u=a.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,x.extend(g,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),s}}))}();var ze=/^(none|table(?!-c[ea]).+)/,$e=/^--/,We={position:"absolute",visibility:"hidden",display:"block"},Ke={letterSpacing:"0",fontWeight:"400"},Xe=["Webkit","Moz","ms"],Ye=a.createElement("div").style;function Je(e){var t=x.cssProps[e];return t||(t=x.cssProps[e]=function(e){if(e in Ye)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=Xe.length;i--;)if((e=Xe[i]+t)in Ye)return e}(e)||e),t}function Qe(e,t,i){var n=re.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Ze(e,t,i,n,r,s){var a="width"===t?1:0,o=0,l=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(l+=x.css(e,i+se[a],!0,r)),n?("content"===i&&(l-=x.css(e,"padding"+se[a],!0,r)),"margin"!==i&&(l-=x.css(e,"border"+se[a]+"Width",!0,r))):(l+=x.css(e,"padding"+se[a],!0,r),"padding"!==i?l+=x.css(e,"border"+se[a]+"Width",!0,r):o+=x.css(e,"border"+se[a]+"Width",!0,r));return!n&&s>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-s-l-o-.5))),l}function et(e,t,i){var n=je(e),r=Ge(e,t,n),s="border-box"===x.css(e,"boxSizing",!1,n),a=s;if(Ve.test(r)){if(!i)return r;r="auto"}return a=a&&(g.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===x.css(e,"display",!1,n))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(r=parseFloat(r)||0)+Ze(e,t,i||(s?"border":"content"),a,n,r)+"px"}function tt(e,t,i,n,r){return new tt.prototype.init(e,t,i,n,r)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ge(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,a,o=X(t),l=$e.test(t),h=e.style;if(l||(t=Je(o)),a=x.cssHooks[t]||x.cssHooks[o],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(e,!1,n))?r:h[t];"string"===(s=typeof i)&&(r=re.exec(i))&&r[1]&&(i=le(e,t,r),s="number"),null!=i&&i==i&&("number"===s&&(i+=r&&r[3]||(x.cssNumber[o]?"":"px")),g.clearCloneStyle||""!==i||0!==t.indexOf("background")||(h[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(l?h.setProperty(t,i):h[t]=i))}},css:function(e,t,i,n){var r,s,a,o=X(t);return $e.test(t)||(t=Je(o)),(a=x.cssHooks[t]||x.cssHooks[o])&&"get"in a&&(r=a.get(e,!0,i)),void 0===r&&(r=Ge(e,t,n)),"normal"===r&&t in Ke&&(r=Ke[t]),""===i||i?(s=parseFloat(r),!0===i||isFinite(s)?s||0:r):r}}),x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,i,n){if(i)return!ze.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,n):oe(e,We,function(){return et(e,t,n)})},set:function(e,i,n){var r,s=je(e),a="border-box"===x.css(e,"boxSizing",!1,s),o=n&&Ze(e,t,n,a,s);return a&&g.scrollboxSize()===s.position&&(o-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(s[t])-Ze(e,t,"border",!1,s)-.5)),o&&(r=re.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=x.css(e,t)),Qe(0,i,o)}}}),x.cssHooks.marginLeft=qe(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-oe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+se[n]+t]=s[n]||s[n-2]||s[0];return r}},"margin"!==e&&(x.cssHooks[e+t].set=Qe)}),x.fn.extend({css:function(e,t){return z(this,function(e,t,i){var n,r,s={},a=0;if(Array.isArray(t)){for(n=je(e),r=t.length;a<r;a++)s[t[a]]=x.css(e,t[a],!1,n);return s}return void 0!==i?x.style(e,t,i):x.css(e,t)},e,t,arguments.length>1)}}),x.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(x.cssNumber[i]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,i=tt.propHooks[this.prop];return this.options.duration?this.pos=t=x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[x.cssProps[e.prop]]&&!x.cssHooks[e.prop]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=tt.prototype.init,x.fx.step={};var it,nt,rt=/^(?:toggle|show|hide)$/,st=/queueHooks$/;function at(){nt&&(!1===a.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(at):i.setTimeout(at,x.fx.interval),x.fx.tick())}function ot(){return i.setTimeout(function(){it=void 0}),it=Date.now()}function lt(e,t){var i,n=0,r={height:e};for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=se[n])]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function ht(e,t,i){for(var n,r=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),s=0,a=r.length;s<a;s++)if(n=r[s].call(i,t,e))return n}function ut(e,t,i){var n,r,s=0,a=ut.prefilters.length,o=x.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=it||ot(),i=Math.max(0,h.startTime+h.duration-t),n=1-(i/h.duration||0),s=0,a=h.tweens.length;s<a;s++)h.tweens[s].run(n);return o.notifyWith(e,[h,n,i]),n<1&&a?i:(a||o.notifyWith(e,[h,1,0]),o.resolveWith(e,[h]),!1)},h=o.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},i),originalProperties:t,originalOptions:i,startTime:it||ot(),duration:i.duration,tweens:[],createTween:function(t,i){var n=x.Tween(e,h.opts,t,i,h.opts.specialEasing[t]||h.opts.easing);return h.tweens.push(n),n},stop:function(t){var i=0,n=t?h.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)h.tweens[i].run(1);return t?(o.notifyWith(e,[h,1,0]),o.resolveWith(e,[h,t])):o.rejectWith(e,[h,t]),this}}),u=h.props;for(!function(e,t){var i,n,r,s,a;for(i in e)if(r=t[n=X(i)],s=e[i],Array.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),(a=x.cssHooks[n])&&"expand"in a)for(i in s=a.expand(s),delete e[n],s)i in e||(e[i]=s[i],t[i]=r);else t[n]=r}(u,h.opts.specialEasing);s<a;s++)if(n=ut.prefilters[s].call(h,e,u,h.opts))return y(n.stop)&&(x._queueHooks(h.elem,h.opts.queue).stop=n.stop.bind(n)),n;return x.map(u,ht,h),y(h.opts.start)&&h.opts.start.call(e,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),x.fx.timer(x.extend(l,{elem:e,anim:h,queue:h.opts.queue})),h}x.Animation=x.extend(ut,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return le(i.elem,e,re.exec(t),i),i}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(P);for(var i,n=0,r=e.length;n<r;n++)i=e[n],ut.tweeners[i]=ut.tweeners[i]||[],ut.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,s,a,o,l,h,u,d="width"in t||"height"in t,c=this,p={},f=e.style,_=e.nodeType&&ae(e),m=Q.get(e,"fxshow");for(n in i.queue||(null==(a=x._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,o=a.empty.fire,a.empty.fire=function(){a.unqueued||o()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,x.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[n],rt.test(r)){if(delete t[n],s=s||"toggle"===r,r===(_?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;_=!0}p[n]=m&&m[n]||x.style(e,n)}if((l=!x.isEmptyObject(t))||!x.isEmptyObject(p))for(n in d&&1===e.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(h=m&&m.display)&&(h=Q.get(e,"display")),"none"===(u=x.css(e,"display"))&&(h?u=h:(de([e],!0),h=e.style.display||h,u=x.css(e,"display"),de([e]))),("inline"===u||"inline-block"===u&&null!=h)&&"none"===x.css(e,"float")&&(l||(c.done(function(){f.display=h}),null==h&&(u=f.display,h="none"===u?"":u)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",c.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(_=m.hidden):m=Q.access(e,"fxshow",{display:h}),s&&(m.hidden=!_),_&&de([e],!0),c.done(function(){for(n in _||de([e]),Q.remove(e,"fxshow"),p)x.style(e,n,p[n])})),l=ht(_?m[n]:0,n,c),n in m||(m[n]=l.start,_&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),x.speed=function(e,t,i){var n=e&&"object"==typeof e?x.extend({},e):{complete:i||!i&&t||y(e)&&e,duration:e,easing:i&&t||t&&!y(t)&&t};return x.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in x.fx.speeds?n.duration=x.fx.speeds[n.duration]:n.duration=x.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){y(n.old)&&n.old.call(this),n.queue&&x.dequeue(this,n.queue)},n},x.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=x.isEmptyObject(e),s=x.speed(t,i,n),a=function(){var t=ut(this,x.extend({},e),s);(r||Q.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||!1===s.queue?this.each(a):this.queue(s.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=x.timers,a=Q.get(this);if(r)a[r]&&a[r].stop&&n(a[r]);else for(r in a)a[r]&&a[r].stop&&st.test(r)&&n(a[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(i),t=!1,s.splice(r,1));!t&&i||x.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=Q.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],s=x.timers,a=n?n.length:0;for(i.finish=!0,x.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),x.each(["toggle","show","hide"],function(e,t){var i=x.fn[t];x.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(t,!0),e,n,r)}}),x.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),x.timers=[],x.fx.tick=function(){var e,t=0,i=x.timers;for(it=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||x.fx.stop(),it=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){nt||(nt=!0,at())},x.fx.stop=function(){nt=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(e,t){return e=x.fx&&x.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=i.setTimeout(t,e);n.stop=function(){i.clearTimeout(r)}})},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var dt,ct=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return z(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})}}),x.extend({attr:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return void 0===e.getAttribute?x.prop(e,t,i):(1===s&&x.isXMLDoc(e)||(r=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?dt:void 0)),void 0!==i?null===i?void x.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=x.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&R(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(P);if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),dt={set:function(e,t,i){return!1===t?x.removeAttr(e,i):e.setAttribute(i,i),i}},x.each(x.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ct[t]||x.find.attr;ct[t]=function(e,t,n){var r,s,a=t.toLowerCase();return n||(s=ct[a],ct[a]=r,r=null!=i(e,t,n)?a:null,ct[a]=s),r}});var pt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function _t(e){return(e.match(P)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function gt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}x.fn.extend({prop:function(e,t){return z(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})}}),x.extend({prop:function(e,t,i){var n,r,s=e.nodeType;if(3!==s&&8!==s&&2!==s)return 1===s&&x.isXMLDoc(e)||(t=x.propFix[t]||t,r=x.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.fn.extend({addClass:function(e){var t,i,n,r,s,a,o,l=0;if(y(e))return this.each(function(t){x(this).addClass(e.call(this,t,mt(this)))});if((t=gt(e)).length)for(;i=this[l++];)if(r=mt(i),n=1===i.nodeType&&" "+_t(r)+" "){for(a=0;s=t[a++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");r!==(o=_t(n))&&i.setAttribute("class",o)}return this},removeClass:function(e){var t,i,n,r,s,a,o,l=0;if(y(e))return this.each(function(t){x(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=gt(e)).length)for(;i=this[l++];)if(r=mt(i),n=1===i.nodeType&&" "+_t(r)+" "){for(a=0;s=t[a++];)for(;n.indexOf(" "+s+" ")>-1;)n=n.replace(" "+s+" "," ");r!==(o=_t(n))&&i.setAttribute("class",o)}return this},toggleClass:function(e,t){var i=typeof e,n="string"===i||Array.isArray(e);return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):y(e)?this.each(function(i){x(this).toggleClass(e.call(this,i,mt(this),t),t)}):this.each(function(){var t,r,s,a;if(n)for(r=0,s=x(this),a=gt(e);t=a[r++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else void 0!==e&&"boolean"!==i||((t=mt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+_t(mt(i))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;x.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=y(e),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?e.call(this,i,x(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=x.map(r,function(e){return null==e?"":e+""})),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(yt,""):null==i?"":i:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:_t(x.text(e))}},select:{get:function(e){var t,i,n,r=e.options,s=e.selectedIndex,a="select-one"===e.type,o=a?null:[],l=a?s+1:r.length;for(n=s<0?l:a?s:0;n<l;n++)if(((i=r[n]).selected||n===s)&&!i.disabled&&(!i.parentNode.disabled||!R(i.parentNode,"optgroup"))){if(t=x(i).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,s=x.makeArray(t),a=r.length;a--;)((n=r[a]).selected=x.inArray(x.valHooks.option.get(n),s)>-1)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=x.inArray(x(e).val(),t)>-1}},g.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),g.focusin="onfocusin"in i;var vt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(e,t,n,r){var s,o,l,h,u,d,c,p,_=[n||a],m=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(o=p=l=n=n||a,3!==n.nodeType&&8!==n.nodeType&&!vt.test(m+x.event.triggered)&&(m.indexOf(".")>-1&&(m=(g=m.split(".")).shift(),g.sort()),u=m.indexOf(":")<0&&"on"+m,(e=e[x.expando]?e:new x.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:x.makeArray(t,[e]),c=x.event.special[m]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!v(n)){for(h=c.delegateType||m,vt.test(h+m)||(o=o.parentNode);o;o=o.parentNode)_.push(o),l=o;l===(n.ownerDocument||a)&&_.push(l.defaultView||l.parentWindow||i)}for(s=0;(o=_[s++])&&!e.isPropagationStopped();)p=o,e.type=s>1?h:c.bindType||m,(d=(Q.get(o,"events")||{})[e.type]&&Q.get(o,"handle"))&&d.apply(o,t),(d=u&&o[u])&&d.apply&&Y(o)&&(e.result=d.apply(o,t),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(_.pop(),t)||!Y(n)||u&&y(n[m])&&!v(n)&&((l=n[u])&&(n[u]=null),x.event.triggered=m,e.isPropagationStopped()&&p.addEventListener(m,bt),n[m](),e.isPropagationStopped()&&p.removeEventListener(m,bt),x.event.triggered=void 0,l&&(n[u]=l)),e.result}},simulate:function(e,t,i){var n=x.extend(new x.Event,i,{type:e,isSimulated:!0});x.event.trigger(n,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return x.event.trigger(e,t,i,!0)}}),g.focusin||x.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){x.event.simulate(t,e.target,x.event.fix(e))};x.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=Q.access(n,t);r||n.addEventListener(e,i,!0),Q.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=Q.access(n,t)-1;r?Q.access(n,t,r):(n.removeEventListener(e,i,!0),Q.remove(n,t))}}});var Et=i.location,St=Date.now(),xt=/\?/;x.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new i.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+e),t};var wt=/\[\]$/,Lt=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(e,t,i,n){var r;if(Array.isArray(t))x.each(t,function(t,r){i||wt.test(e)?n(e,r):At(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)});else if(i||"object"!==S(t))n(e,t);else for(r in t)At(e+"["+r+"]",t[r],i,n)}x.param=function(e,t){var i,n=[],r=function(e,t){var i=y(t)?t():t;n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){r(this.name,this.value)});else for(i in e)At(i,e[i],t,r);return n.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&kt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var i=x(this).val();return null==i?null:Array.isArray(i)?x.map(i,function(e){return{name:t.name,value:e.replace(Lt,"\r\n")}}):{name:t.name,value:i.replace(Lt,"\r\n")}}).get()}});var Ct=/%20/g,Rt=/#.*$/,Dt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,Ot=/^\/\//,Mt={},Nt={},Ut="*/".concat("*"),Pt=a.createElement("a");function Ft(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,s=t.toLowerCase().match(P)||[];if(y(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Vt(e,t,i,n){var r={},s=e===Nt;function a(o){var l;return r[o]=!0,x.each(e[o]||[],function(e,o){var h=o(t,i,n);return"string"!=typeof h||s||r[h]?s?!(l=h):void 0:(t.dataTypes.unshift(h),a(h),!1)}),l}return a(t.dataTypes[0])||!r["*"]&&a("*")}function jt(e,t){var i,n,r=x.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&x.extend(!0,e,n),e}Pt.href=Et.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?jt(jt(e,x.ajaxSettings),t):jt(x.ajaxSettings,e)},ajaxPrefilter:Ft(Mt),ajaxTransport:Ft(Nt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,s,o,l,h,u,d,c,p,f=x.ajaxSetup({},t),_=f.context||f,m=f.context&&(_.nodeType||_.jquery)?x(_):x.event,g=x.Deferred(),y=x.Callbacks("once memory"),v=f.statusCode||{},b={},E={},S="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(u){if(!o)for(o={};t=It.exec(s);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?s:null},setRequestHeader:function(e,t){return null==u&&(e=E[e.toLowerCase()]=E[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)w.always(e[w.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||S;return n&&n.abort(t),L(0,t),this}};if(g.promise(w),f.url=((e||f.url||Et.href)+"").replace(Ot,Et.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(P)||[""],null==f.crossDomain){h=a.createElement("a");try{h.href=f.url,h.href=h.href,f.crossDomain=Pt.protocol+"//"+Pt.host!=h.protocol+"//"+h.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=x.param(f.data,f.traditional)),Vt(Mt,f,t,w),u)return w;for(c in(d=x.event&&f.global)&&0==x.active++&&x.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Bt.test(f.type),r=f.url.replace(Rt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ct,"+")):(p=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(xt.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Dt,"$1"),p=(xt.test(r)?"&":"?")+"_="+St+++p),f.url=r+p),f.ifModified&&(x.lastModified[r]&&w.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&w.setRequestHeader("If-None-Match",x.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Ut+"; q=0.01":""):f.accepts["*"]),f.headers)w.setRequestHeader(c,f.headers[c]);if(f.beforeSend&&(!1===f.beforeSend.call(_,w,f)||u))return w.abort();if(S="abort",y.add(f.complete),w.done(f.success),w.fail(f.error),n=Vt(Nt,f,t,w)){if(w.readyState=1,d&&m.trigger("ajaxSend",[w,f]),u)return w;f.async&&f.timeout>0&&(l=i.setTimeout(function(){w.abort("timeout")},f.timeout));try{u=!1,n.send(b,L)}catch(e){if(u)throw e;L(-1,e)}}else L(-1,"No Transport");function L(e,t,a,o){var h,c,p,b,E,S=t;u||(u=!0,l&&i.clearTimeout(l),n=void 0,s=o||"",w.readyState=e>0?4:0,h=e>=200&&e<300||304===e,a&&(b=function(e,t,i){for(var n,r,s,a,o=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in o)if(o[r]&&o[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}a||(a=r)}s=s||a}if(s)return s!==l[0]&&l.unshift(s),i[s]}(f,w,a)),b=function(e,t,i,n){var r,s,a,o,l,h={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)h[a.toLowerCase()]=e.converters[a];for(s=u.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(a=h[l+" "+s]||h["* "+s]))for(r in h)if((o=r.split(" "))[1]===s&&(a=h[l+" "+o[0]]||h["* "+o[0]])){!0===a?a=h[r]:!0!==h[r]&&(s=o[0],u.unshift(o[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(f,b,w,h),h?(f.ifModified&&((E=w.getResponseHeader("Last-Modified"))&&(x.lastModified[r]=E),(E=w.getResponseHeader("etag"))&&(x.etag[r]=E)),204===e||"HEAD"===f.type?S="nocontent":304===e?S="notmodified":(S=b.state,c=b.data,h=!(p=b.error))):(p=S,!e&&S||(S="error",e<0&&(e=0))),w.status=e,w.statusText=(t||S)+"",h?g.resolveWith(_,[c,S,w]):g.rejectWith(_,[w,S,p]),w.statusCode(v),v=void 0,d&&m.trigger(h?"ajaxSuccess":"ajaxError",[w,f,h?c:p]),y.fireWith(_,[w,S]),d&&(m.trigger("ajaxComplete",[w,f]),--x.active||x.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,i){return x.get(e,t,i,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,i,n,r){return y(i)&&(r=r||n,n=i,i=void 0),x.ajax(x.extend({url:e,type:t,dataType:r,data:i,success:n},x.isPlainObject(e)&&e))}}),x._evalUrl=function(e){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(i){x(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){x(this).replaceWith(this.childNodes)}),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(e){}};var Ht={0:200,1223:204},Gt=x.ajaxSettings.xhr();g.cors=!!Gt&&"withCredentials"in Gt,g.ajax=Gt=!!Gt,x.ajaxTransport(function(e){var t,n;if(g.cors||Gt&&!e.crossDomain)return{send:function(r,s){var a,o=e.xhr();if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)o[a]=e.xhrFields[a];for(a in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)o.setRequestHeader(a,r[a]);t=function(e){return function(){t&&(t=n=o.onload=o.onerror=o.onabort=o.ontimeout=o.onreadystatechange=null,"abort"===e?o.abort():"error"===e?"number"!=typeof o.status?s(0,"error"):s(o.status,o.statusText):s(Ht[o.status]||o.status,o.statusText,"text"!==(o.responseType||"text")||"string"!=typeof o.responseText?{binary:o.response}:{text:o.responseText},o.getAllResponseHeaders()))}},o.onload=t(),n=o.onerror=o.ontimeout=t("error"),void 0!==o.onabort?o.onabort=n:o.onreadystatechange=function(){4===o.readyState&&i.setTimeout(function(){t&&n()})},t=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),x.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){var t,i;if(e.crossDomain)return{send:function(n,r){t=x("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){i&&i()}}});var qt,zt=[],$t=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||x.expando+"_"+St++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(e,t,n){var r,s,a,o=!1!==e.jsonp&&($t.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace($t,"$1"+r):!1!==e.jsonp&&(e.url+=(xt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||x.error(r+" was not called"),a[0]},e.dataTypes[0]="json",s=i[r],i[r]=function(){a=arguments},n.always(function(){void 0===s?x(i).removeProp(r):i[r]=s,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),a&&y(s)&&s(a[0]),a=s=void 0}),"script"}),g.createHTMLDocument=((qt=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),x.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(g.createHTMLDocument?((n=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(n)):t=a),r=D.exec(e),s=!i&&[],r?[t.createElement(r[1])]:(r=Ee([e],t,s),s&&s.length&&x(s).remove(),x.merge([],r.childNodes)));var n,r,s},x.fn.load=function(e,t,i){var n,r,s,a=this,o=e.indexOf(" ");return o>-1&&(n=_t(e.slice(o)),e=e.slice(0,o)),y(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&x.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){s=arguments,a.html(n?x("<div>").append(x.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,s||[e.responseText,t,e])})}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.expr.pseudos.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length},x.offset={setOffset:function(e,t,i){var n,r,s,a,o,l,h=x.css(e,"position"),u=x(e),d={};"static"===h&&(e.style.position="relative"),o=u.offset(),s=x.css(e,"top"),l=x.css(e,"left"),("absolute"===h||"fixed"===h)&&(s+l).indexOf("auto")>-1?(a=(n=u.position()).top,r=n.left):(a=parseFloat(s)||0,r=parseFloat(l)||0),y(t)&&(t=t.call(e,i,x.extend({},o))),null!=t.top&&(d.top=t.top-o.top+a),null!=t.left&&(d.left=t.left-o.left+r),"using"in t?t.using.call(e,d):u.css(d)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,i,n=this[0];return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],r={top:0,left:0};if("fixed"===x.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((r=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),r.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-x.css(n,"marginTop",!0),left:t.left-r.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||Se})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;x.fn[e]=function(n){return z(this,function(e,n,r){var s;if(v(e)?s=e:9===e.nodeType&&(s=e.defaultView),void 0===r)return s?s[t]:e[n];s?s.scrollTo(i?s.pageXOffset:r,i?r:s.pageYOffset):e[n]=r},e,n,arguments.length)}}),x.each(["top","left"],function(e,t){x.cssHooks[t]=qe(g.pixelPosition,function(e,i){if(i)return i=Ge(e,t),Ve.test(i)?x(e).position()[t]+"px":i})}),x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){x.fn[n]=function(r,s){var a=arguments.length&&(i||"boolean"!=typeof r),o=i||(!0===r||!0===s?"margin":"border");return z(this,function(t,i,r){var s;return v(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===r?x.css(t,i,o):x.style(t,i,r,o)},t,a?r:void 0,a)}})}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){x.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}}),x.proxy=function(e,t){var i,n,r;if("string"==typeof t&&(i=e[t],t=e,e=i),y(e))return n=l.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(l.call(arguments)))}).guid=e.guid=e.guid||x.guid++,r},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=R,x.isFunction=y,x.isWindow=v,x.camelCase=X,x.type=S,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(n=function(){return x}.apply(t,[]))||(e.exports=n);var Wt=i.jQuery,Kt=i.$;return x.noConflict=function(e){return i.$===x&&(i.$=Kt),e&&i.jQuery===x&&(i.jQuery=Wt),x},r||(i.jQuery=i.$=x),x})},function(e,t,i){"use strict";var n=i(0);t.a=class extends n.a{constructor(){super(),this.top=null}_addEvent_(){this.$on("mouseenter",this.show.bind(this)),this.$on("mouseleave",this.hide.bind(this))}setShowPosition(e,t,i){i&&"center"!=i||(this.css("left",e-this.cacheWidth/2),this.css("top",t-this.cacheHeight)),this.show()}init(){}}},function(e,t){var i,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,h=[],u=!1,d=-1;function c(){u&&l&&(u=!1,l.length?h=l.concat(h):d=-1,h.length&&p())}function p(){if(!u){var e=o(c);u=!0;for(var t=h.length;t;){for(l=h,h=[];++d<t;)l&&l[d].run();d=-1,t=h.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function _(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];h.push(new f(e,t)),1!==h.length||u||o(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=_,r.addListener=_,r.once=_,r.off=_,r.removeListener=_,r.removeAllListeners=_,r.emit=_,r.prependListener=_,r.prependOnceListener=_,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){(function(e,n){var r=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(o(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,s=n.length,a=String(e).replace(r,function(e){if("%%"===e)return"%";if(i>=s)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(e){return"[Circular]"}default:return e}}),l=n[i];i<s;l=n[++i])_(l)||!b(l)?a+=" "+l:a+=" "+o(l);return a},t.deprecate=function(i,r){if(y(e.process))return function(){return t.deprecate(i,r).apply(this,arguments)};if(!0===n.noDeprecation)return i;var s=!1;return function(){if(!s){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),s=!0}return i.apply(this,arguments)}};var s,a={};function o(e,i){var n={seen:[],stylize:h};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(i)?n.showHidden=i:i&&t._extend(n,i),y(n.showHidden)&&(n.showHidden=!1),y(n.depth)&&(n.depth=2),y(n.colors)&&(n.colors=!1),y(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),u(n,e,n.depth)}function l(e,t){var i=o.styles[t];return i?"["+o.colors[i][0]+"m"+e+"["+o.colors[i][1]+"m":e}function h(e,t){return e}function u(e,i,n){if(e.customInspect&&i&&x(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return g(r)||(r=u(e,r,n)),r}var s=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}if(m(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(_(t))return e.stylize("null","null")}(e,i);if(s)return s;var a=Object.keys(i),o=function(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(i)),S(i)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(i);if(0===a.length){if(x(i)){var l=i.name?": "+i.name:"";return e.stylize("[Function"+l+"]","special")}if(v(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(E(i))return e.stylize(Date.prototype.toString.call(i),"date");if(S(i))return d(i)}var h,b="",w=!1,L=["{","}"];(p(i)&&(w=!0,L=["[","]"]),x(i))&&(b=" [Function"+(i.name?": "+i.name:"")+"]");return v(i)&&(b=" "+RegExp.prototype.toString.call(i)),E(i)&&(b=" "+Date.prototype.toUTCString.call(i)),S(i)&&(b=" "+d(i)),0!==a.length||w&&0!=i.length?n<0?v(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),h=w?function(e,t,i,n,r){for(var s=[],a=0,o=t.length;a<o;++a)k(t,String(a))?s.push(c(e,t,i,n,String(a),!0)):s.push("");return r.forEach(function(r){r.match(/^\d+$/)||s.push(c(e,t,i,n,r,!0))}),s}(e,i,n,o,a):a.map(function(t){return c(e,i,n,o,t,w)}),e.seen.pop(),function(e,t,i){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1];return i[0]+t+" "+e.join(", ")+" "+i[1]}(h,b,L)):L[0]+b+L[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,i,n,r,s){var a,o,l;if((l=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?o=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(o=e.stylize("[Setter]","special")),k(n,r)||(a="["+r+"]"),o||(e.seen.indexOf(l.value)<0?(o=_(i)?u(e,l.value,null):u(e,l.value,i-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")):o=e.stylize("[Circular]","special")),y(a)){if(s&&r.match(/^\d+$/))return o;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function p(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function _(e){return null===e}function m(e){return"number"==typeof e}function g(e){return"string"==typeof e}function y(e){return void 0===e}function v(e){return b(e)&&"[object RegExp]"===w(e)}function b(e){return"object"==typeof e&&null!==e}function E(e){return b(e)&&"[object Date]"===w(e)}function S(e){return b(e)&&("[object Error]"===w(e)||e instanceof Error)}function x(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}function L(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(s)&&(s=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(s)){var i=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else a[e]=function(){};return a[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=f,t.isNull=_,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=v,t.isObject=b,t.isDate=E,t.isError=S,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i(73);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,i;console.log("%s - %s",(e=new Date,i=[L(e.getHours()),L(e.getMinutes()),L(e.getSeconds())].join(":"),[e.getDate(),T[e.getMonth()],i].join(" ")),t.format.apply(t,arguments))},t.inherits=i(72),t._extend=function(e,t){if(!t||!b(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}}).call(this,i(14),i(13))},function(e,t,i){"use strict";i.r(t);i(76);var n=i(0),r=i(5),s=new r.a,a={InnerInit:"EventType.InnerInit",VideoInit:"EventType.VideoInit",DataPlay:"EventType.DataPlay",DataPause:"EventType.DataPause",DataFullScreen:"EventType.DataFullScreen",DataExitFullScreen:"EventType.DataExitFullScreen",ChangeMusic:"EventType.ChangeMusic",ChangeButton:"EventType.ChangeButton",ChangeAnimation:"EventType.ChangeAnimation",ButtonClick:"EventType.ButtonClick",UiPlay:"EventType.UiPlay",UiPause:"EventType.UiPause",UiFullScreen:"EventType.UiFullScreen",UiExitFullScreen:"EventType.UiExitFullScreen"},o=a;var l=class extends r.a{constructor(){super()}init(){}};class h extends n.a{constructor(){super()}play(){}pause(){}}h.VideoLoadState="BaseVideo.VideoLoadState",h.VideoPlayState="BaseVideo.VideoPlayState",h.VideoErrorState="BaseVideo.VideoErrorState";var u=h,d=i(3);var c=class extends u{constructor(){super(),this.yid="FlashVideo",this.initHtmlDisplay('<embed class="ya-flash-video" quality="higt" bgcolor="#000000" allowscriptaccess="always" allowfullscreen="true" seamlesstabbing="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" wmode="transparent" src="./Player.swf?call=flashVideoCall&amp;debug=1"></embed>'),d.a.VideoLayer.append(this);var e=this;window.flashVideoCall=function(){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);e.flashVideoCall(t)}}flashVideoCall(e){"flashInit"==e[0]?this.resReady=!0:"playState"==e[0]&&this.emit(u.VideoPlayState)}_dealVo_(e){this.destorystatus||("url"==e.type?this.display[0].flashVideoCall("url",e.value):"play"==e.type?this.display[0].flashVideoCall("play"):"pause"==e.type?this.display[0].flashVideoCall("pause"):"volume"==e.type&&this.display[0].flashVideoCall("volume",Math.min(1,Math.max(0,e.value/100))))}destory(){super.destory()}_removeEvent_(){}};class p{static install(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");let t=Object(e);for(let e=1;e<arguments.length;e++){let i=arguments[e];if(void 0!==i&&null!==i)for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e])}return t},"function"!=typeof self.Promise&&i(71).polyfill()}}p.install();var f=p,_=i(4),m=i.n(_);class g{static e(e,t){e&&!g.FORCE_GLOBAL_TAG||(e=g.GLOBAL_TAG);let i=`[${e}] > ${t}`;g.ENABLE_CALLBACK&&g.emitter.emit("log","error",i),g.ENABLE_ERROR&&(console.error?console.error(i):console.warn?console.warn(i):console.log(i))}static i(e,t){e&&!g.FORCE_GLOBAL_TAG||(e=g.GLOBAL_TAG);let i=`[${e}] > ${t}`;g.ENABLE_CALLBACK&&g.emitter.emit("log","info",i),g.ENABLE_INFO&&(console.info?console.info(i):console.log(i))}static w(e,t){e&&!g.FORCE_GLOBAL_TAG||(e=g.GLOBAL_TAG);let i=`[${e}] > ${t}`;g.ENABLE_CALLBACK&&g.emitter.emit("log","warn",i),g.ENABLE_WARN&&(console.warn?console.warn(i):console.log(i))}static d(e,t){e&&!g.FORCE_GLOBAL_TAG||(e=g.GLOBAL_TAG);let i=`[${e}] > ${t}`;g.ENABLE_CALLBACK&&g.emitter.emit("log","debug",i),g.ENABLE_DEBUG&&(console.debug?console.debug(i):console.log(i))}static v(e,t){e&&!g.FORCE_GLOBAL_TAG||(e=g.GLOBAL_TAG);let i=`[${e}] > ${t}`;g.ENABLE_CALLBACK&&g.emitter.emit("log","verbose",i),g.ENABLE_VERBOSE&&console.log(i)}}g.GLOBAL_TAG="flv.js",g.FORCE_GLOBAL_TAG=!1,g.ENABLE_ERROR=!0,g.ENABLE_INFO=!0,g.ENABLE_WARN=!0,g.ENABLE_DEBUG=!0,g.ENABLE_VERBOSE=!0,g.ENABLE_CALLBACK=!1,g.emitter=new m.a;var y=g;var v=class{constructor(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}reset(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}addBytes(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())}get currentKBps(){this.addBytes(0);let e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024}get lastSecondKBps(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}get averageKBps(){let e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024}};class b{constructor(e){this._message=e}get name(){return"RuntimeException"}get message(){return this._message}toString(){return this.name+": "+this.message}}class E extends b{constructor(e){super(e)}get name(){return"IllegalStateException"}}class S extends b{constructor(e){super(e)}get name(){return"InvalidArgumentException"}}class x extends b{constructor(e){super(e)}get name(){return"NotImplementedException"}}const w={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},L={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"};class T{constructor(e){this._type=e||"undefined",this._status=w.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}destroy(){this._status=w.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}isWorking(){return this._status===w.kConnecting||this._status===w.kBuffering}get type(){return this._type}get status(){return this._status}get needStashBuffer(){return this._needStash}get onContentLengthKnown(){return this._onContentLengthKnown}set onContentLengthKnown(e){this._onContentLengthKnown=e}get onURLRedirect(){return this._onURLRedirect}set onURLRedirect(e){this._onURLRedirect=e}get onDataArrival(){return this._onDataArrival}set onDataArrival(e){this._onDataArrival=e}get onError(){return this._onError}set onError(e){this._onError=e}get onComplete(){return this._onComplete}set onComplete(e){this._onComplete=e}open(e,t){throw new x("Unimplemented abstract function!")}abort(){throw new x("Unimplemented abstract function!")}}let k={};!function(){let e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],n={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:i[0]||""},r={};if(n.browser){r[n.browser]=!0;let e=n.majorVersion.split(".");r.version={major:parseInt(n.majorVersion,10),string:n.version},e.length>1&&(r.version.minor=parseInt(e[1],10)),e.length>2&&(r.version.build=parseInt(e[2],10))}if(n.platform&&(r[n.platform]=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),r.rv||r.iemobile){r.rv&&delete r.rv;let e="msie";n.browser=e,r[e]=!0}if(r.edge){delete r.edge;let e="msedge";n.browser=e,r[e]=!0}if(r.opr){let e="opera";n.browser=e,r[e]=!0}if(r.safari&&r.android){let e="android";n.browser=e,r[e]=!0}r.name=n.browser,r.platform=n.platform;for(let e in k)k.hasOwnProperty(e)&&delete k[e];Object.assign(k,r)}();var A=k;var C=class extends T{static isSupported(){try{let e=A.msedge&&A.version.minor>=15048,t=!A.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}}constructor(e,t){super("fetch-stream-loader"),this.TAG="FetchStreamLoader",this._seekHandler=e,this._config=t,this._needStash=!0,this._requestAbort=!1,this._contentLength=null,this._receivedLength=0}destroy(){this.isWorking()&&this.abort(),super.destroy()}open(e,t){this._dataSource=e,this._range=t;let i=e.url;this._config.reuseRedirectedURL&&void 0!=e.redirectedURL&&(i=e.redirectedURL);let n=this._seekHandler.getConfig(i,t),r=new self.Headers;if("object"==typeof n.headers){let e=n.headers;for(let t in e)e.hasOwnProperty(t)&&r.append(t,e[t])}let s={method:"GET",headers:r,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};!1===e.cors&&(s.mode="same-origin"),e.withCredentials&&(s.credentials="include"),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),this._status=w.kConnecting,self.fetch(n.url,s).then(e=>{if(this._requestAbort)return this._requestAbort=!1,void(this._status=w.kIdle);if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==n.url&&this._onURLRedirect){let t=this._seekHandler.removeURLParameters(e.url);this._onURLRedirect(t)}let t=e.headers.get("Content-Length");return null!=t&&(this._contentLength=parseInt(t),0!==this._contentLength&&this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)),this._pump.call(this,e.body.getReader())}if(this._status=w.kError,!this._onError)throw new b("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);this._onError(L.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}).catch(e=>{if(this._status=w.kError,!this._onError)throw e;this._onError(L.EXCEPTION,{code:-1,msg:e.message})})}abort(){this._requestAbort=!0}_pump(e){return e.read().then(t=>{if(t.done)this._status=w.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1);else{if(!0===this._requestAbort)return this._requestAbort=!1,this._status=w.kComplete,e.cancel();this._status=w.kBuffering;let i=t.value.buffer,n=this._range.from+this._receivedLength;this._receivedLength+=i.byteLength,this._onDataArrival&&this._onDataArrival(i,n,this._receivedLength),this._pump(e)}}).catch(e=>{if(11===e.code&&A.msedge)return;this._status=w.kError;let t=0,i=null;if(19!==e.code&&"network error"!==e.message||!(null===this._contentLength||null!==this._contentLength&&this._receivedLength<this._contentLength)?(t=L.EXCEPTION,i={code:e.code,msg:e.message}):(t=L.EARLY_EOF,i={code:e.code,msg:"Fetch stream meet Early-EOF"}),!this._onError)throw new b(i.msg);this._onError(t,i)})}};var R=class extends T{static isSupported(){try{let e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return y.w("MozChunkedLoader",e.message),!1}}constructor(e,t){super("xhr-moz-chunked-loader"),this.TAG="MozChunkedLoader",this._seekHandler=e,this._config=t,this._needStash=!0,this._xhr=null,this._requestAbort=!1,this._contentLength=null,this._receivedLength=0}destroy(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),super.destroy()}open(e,t){this._dataSource=e,this._range=t;let i=e.url;this._config.reuseRedirectedURL&&void 0!=e.redirectedURL&&(i=e.redirectedURL);let n=this._seekHandler.getConfig(i,t);this._requestURL=n.url;let r=this._xhr=new XMLHttpRequest;if(r.open("GET",n.url,!0),r.responseType="moz-chunked-arraybuffer",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onloadend=this._onLoadEnd.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&(r.withCredentials=!0),"object"==typeof n.headers){let e=n.headers;for(let t in e)e.hasOwnProperty(t)&&r.setRequestHeader(t,e[t])}this._status=w.kConnecting,r.send()}abort(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=w.kComplete}_onReadyStateChange(e){let t=e.target;if(2===t.readyState){if(void 0!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){let e=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(e)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=w.kError,!this._onError)throw new b("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(L.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=w.kBuffering}}_onProgress(e){if(this._status===w.kError)return;null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));let t=e.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}_onLoadEnd(e){!0!==this._requestAbort?this._status!==w.kError&&(this._status=w.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1}_onXhrError(e){this._status=w.kError;let t=0,i=null;if(this._contentLength&&e.loaded<this._contentLength?(t=L.EARLY_EOF,i={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=L.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new b(i.msg);this._onError(t,i)}};var D=class extends T{static isSupported(){try{let e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return y.w("RangeLoader",e.message),!1}}constructor(e,t){super("xhr-range-loader"),this.TAG="RangeLoader",this._seekHandler=e,this._config=t,this._needStash=!1,this._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],this._currentChunkSizeKB=384,this._currentSpeedNormalized=0,this._zeroSpeedChunkCount=0,this._xhr=null,this._speedSampler=new v,this._requestAbort=!1,this._waitForTotalLength=!1,this._totalLengthReceived=!1,this._currentRequestURL=null,this._currentRedirectedURL=null,this._currentRequestRange=null,this._totalLength=null,this._contentLength=null,this._receivedLength=0,this._lastTimeLoaded=0}destroy(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),super.destroy()}get currentSpeed(){return this._speedSampler.lastSecondKBps}open(e,t){this._dataSource=e,this._range=t,this._status=w.kConnecting;let i=!1;void 0!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(i=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||i?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))}_openSubRange(){let e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,i=t+e;null!=this._contentLength&&i-this._range.from>=this._contentLength&&(i=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:i},this._internalOpen(this._dataSource,this._currentRequestRange)}_internalOpen(e,t){this._lastTimeLoaded=0;let i=e.url;this._config.reuseRedirectedURL&&(void 0!=this._currentRedirectedURL?i=this._currentRedirectedURL:void 0!=e.redirectedURL&&(i=e.redirectedURL));let n=this._seekHandler.getConfig(i,t);this._currentRequestURL=n.url;let r=this._xhr=new XMLHttpRequest;if(r.open("GET",n.url,!0),r.responseType="arraybuffer",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onload=this._onLoad.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&(r.withCredentials=!0),"object"==typeof n.headers){let e=n.headers;for(let t in e)e.hasOwnProperty(t)&&r.setRequestHeader(t,e[t])}r.send()}abort(){this._requestAbort=!0,this._internalAbort(),this._status=w.kComplete}_internalAbort(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}_onReadyStateChange(e){let t=e.target;if(2===t.readyState){if(void 0!=t.responseURL){let e=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&e!==this._currentRedirectedURL&&(this._currentRedirectedURL=e,this._onURLRedirect&&this._onURLRedirect(e))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=w.kBuffering}else{if(this._status=w.kError,!this._onError)throw new b("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(L.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}}_onProgress(e){if(this._status===w.kError)return;if(null===this._contentLength){let t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;let i=e.total;this._internalAbort(),null!=i&0!==i&&(this._totalLength=i)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}let t=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(t)}_normalizeSpeed(e){let t=this._chunkSizeKBList,i=t.length-1,n=0,r=0,s=i;if(e<t[0])return t[0];for(;r<=s;){if((n=r+Math.floor((s-r)/2))===i||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?r=n+1:s=n-1}}_onLoad(e){if(this._status===w.kError)return;if(this._waitForTotalLength)return void(this._waitForTotalLength=!1);this._lastTimeLoaded=0;let t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){let e=this._normalizeSpeed(t);this._currentSpeedNormalized!==e&&(this._currentSpeedNormalized=e,this._currentChunkSizeKB=e)}let i=e.target.response,n=this._range.from+this._receivedLength;this._receivedLength+=i.byteLength;let r=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():r=!0,this._onDataArrival&&this._onDataArrival(i,n,this._receivedLength),r&&(this._status=w.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}_onXhrError(e){this._status=w.kError;let t=0,i=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=L.EARLY_EOF,i={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=L.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new b(i.msg);this._onError(t,i)}};var I=class extends T{static isSupported(){try{return void 0!==self.WebSocket}catch(e){return!1}}constructor(){super("websocket-loader"),this.TAG="WebSocketLoader",this._needStash=!0,this._ws=null,this._requestAbort=!1,this._receivedLength=0}destroy(){this._ws&&this.abort(),super.destroy()}open(e){try{let t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=w.kConnecting}catch(e){this._status=w.kError;let t={code:e.code,msg:e.message};if(!this._onError)throw new b(t.msg);this._onError(L.EXCEPTION,t)}}abort(){let e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=w.kComplete}_onWebSocketOpen(e){this._status=w.kBuffering}_onWebSocketClose(e){!0!==this._requestAbort?(this._status=w.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1}_onWebSocketMessage(e){if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){let t=new FileReader;t.onload=(()=>{this._dispatchArrayBuffer(t.result)}),t.readAsArrayBuffer(e.data)}else{this._status=w.kError;let t={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new b(t.msg);this._onError(L.EXCEPTION,t)}}_dispatchArrayBuffer(e){let t=e,i=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}_onWebSocketError(e){this._status=w.kError;let t={code:e.code,msg:e.message};if(!this._onError)throw new b(t.msg);this._onError(L.EXCEPTION,t)}};var B=class{constructor(e){this._zeroStart=e||!1}getConfig(e,t){let i={};if(0!==t.from||-1!==t.to){let e;e=-1!==t.to?`bytes=${t.from.toString()}-${t.to.toString()}`:`bytes=${t.from.toString()}-`,i.Range=e}else this._zeroStart&&(i.Range="bytes=0-");return{url:e,headers:i}}removeURLParameters(e){return e}};var O=class{constructor(e,t){this._startName=e,this._endName=t}getConfig(e,t){let i=e;if(0!==t.from||-1!==t.to){let e=!0;-1===i.indexOf("?")&&(i+="?",e=!1),e&&(i+="&"),i+=`${this._startName}=${t.from.toString()}`,-1!==t.to&&(i+=`&${this._endName}=${t.to.toString()}`)}return{url:i,headers:{}}}removeURLParameters(e){let t=e.split("?")[0],i=void 0,n=e.indexOf("?");-1!==n&&(i=e.substring(n+1));let r="";if(void 0!=i&&i.length>0){let e=i.split("&");for(let t=0;t<e.length;t++){let i=e[t].split("="),n=t>0;i[0]!==this._startName&&i[0]!==this._endName&&(n&&(r+="&"),r+=e[t])}}return 0===r.length?t:t+"?"+r}};var M=class{constructor(e,t,i){this.TAG="IOController",this._config=t,this._extraData=i,this._stashInitialSize=393216,void 0!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(e.url),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new v,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}destroy(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null}isWorking(){return this._loader&&this._loader.isWorking()&&!this._paused}isPaused(){return this._paused}get status(){return this._loader.status}get extraData(){return this._extraData}set extraData(e){this._extraData=e}get onDataArrival(){return this._onDataArrival}set onDataArrival(e){this._onDataArrival=e}get onSeeked(){return this._onSeeked}set onSeeked(e){this._onSeeked=e}get onError(){return this._onError}set onError(e){this._onError=e}get onComplete(){return this._onComplete}set onComplete(e){this._onComplete=e}get onRedirect(){return this._onRedirect}set onRedirect(e){this._onRedirect=e}get onRecoveredEarlyEof(){return this._onRecoveredEarlyEof}set onRecoveredEarlyEof(e){this._onRecoveredEarlyEof=e}get currentURL(){return this._dataSource.url}get hasRedirect(){return null!=this._redirectedURL||void 0!=this._dataSource.redirectedURL}get currentRedirectedURL(){return this._redirectedURL||this._dataSource.redirectedURL}get currentSpeed(){return this._loaderClass===D?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}get loaderType(){return this._loader.type}_selectSeekHandler(){let e=this._config;if("range"===e.seekType)this._seekHandler=new B(this._config.rangeLoadZeroStart);else if("param"===e.seekType){let t=e.seekParamStart||"bstart",i=e.seekParamEnd||"bend";this._seekHandler=new O(t,i)}else{if("custom"!==e.seekType)throw new S(`Invalid seekType in config: ${e.seekType}`);if("function"!=typeof e.customSeekHandler)throw new S("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}}_selectLoader(){if(this._isWebSocketURL)this._loaderClass=I;else if(C.isSupported())this._loaderClass=C;else if(R.isSupported())this._loaderClass=R;else{if(!D.isSupported())throw new b("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=D}}_createLoader(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)}open(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))}abort(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}pause(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}resume(){if(this._paused){this._paused=!1;let e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}}seek(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)}_internalSeek(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;let i={from:e,to:-1};this._currentRange={from:i.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,i),this._onSeeked&&this._onSeeked()}updateUrl(e){if(!e||"string"!=typeof e||0===e.length)throw new S("Url must be a non-empty string!");this._dataSource.url=e}_expandBuffer(e){let t=this._stashSize;for(;t+1048576<e;)t*=2;if((t+=1048576)===this._bufferSize)return;let i=new ArrayBuffer(t);if(this._stashUsed>0){let e=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(i,0,t).set(e,0)}this._stashBuffer=i,this._bufferSize=t}_normalizeSpeed(e){let t=this._speedNormalizeList,i=t.length-1,n=0,r=0,s=i;if(e<t[0])return t[0];for(;r<=s;){if((n=r+Math.floor((s-r)/2))===i||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?r=n+1:s=n-1}}_adjustStashSize(e){let t=0;(t=this._config.isLive?e:e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);let i=1024*t+1048576;this._bufferSize<i&&this._expandBuffer(i),this._stashSize=1024*t}_dispatchChunks(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)}_onURLRedirect(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)}_onContentLengthKnown(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)}_onLoaderChunkArrival(e,t,i){if(!this._onDataArrival)throw new E("IOController: No existing consumer (onDataArrival) callback!");if(this._paused)return;this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);let n=this._speedSampler.lastSecondKBps;if(0!==n){let e=this._normalizeSpeed(n);this._speedNormalized!==e&&(this._speedNormalized=e,this._adjustStashSize(e))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize)new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;else{let i=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){let t=this._stashBuffer.slice(0,this._stashUsed),n=this._dispatchChunks(t,this._stashByteStart);if(n<t.byteLength){if(n>0){let e=new Uint8Array(t,n);i.set(e,0),this._stashUsed=e.byteLength,this._stashByteStart+=n}}else this._stashUsed=0,this._stashByteStart+=n;this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),i=new Uint8Array(this._stashBuffer,0,this._bufferSize)),i.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{let n=this._dispatchChunks(e,t);if(n<e.byteLength){let r=e.byteLength-n;r>this._bufferSize&&(this._expandBuffer(r),i=new Uint8Array(this._stashBuffer,0,this._bufferSize)),i.set(new Uint8Array(e,n),0),this._stashUsed+=r,this._stashByteStart=t+n}}}else if(0===this._stashUsed){let i=this._dispatchChunks(e,t);if(i<e.byteLength){let n=e.byteLength-i;n>this._bufferSize&&this._expandBuffer(n),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(e,i),0),this._stashUsed+=n,this._stashByteStart=t+i}}else{this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength);let t=new Uint8Array(this._stashBuffer,0,this._bufferSize);t.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;let i=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(i<this._stashUsed&&i>0){let e=new Uint8Array(this._stashBuffer,i);t.set(e,0)}this._stashUsed-=i,this._stashByteStart+=i}}_flushStashBuffer(e){if(this._stashUsed>0){let t=this._stashBuffer.slice(0,this._stashUsed),i=this._dispatchChunks(t,this._stashByteStart),n=t.byteLength-i;if(i<t.byteLength){if(!e){if(i>0){let e=new Uint8Array(this._stashBuffer,0,this._bufferSize),n=new Uint8Array(t,i);e.set(n,0),this._stashUsed=n.byteLength,this._stashByteStart+=i}return 0}y.w(this.TAG,`${n} bytes unconsumed data remain when flush buffer, dropped`)}return this._stashUsed=0,this._stashByteStart=0,n}return 0}_onLoaderComplete(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)}_onLoaderError(e,t){switch(y.e(this.TAG,`Loader error, code = ${t.code}, msg = ${t.msg}`),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=L.UNRECOVERABLE_EARLY_EOF),e){case L.EARLY_EOF:if(!this._config.isLive&&this._totalLength){let e=this._currentRange.to+1;return void(e<this._totalLength&&(y.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(e,!1)))}e=L.UNRECOVERABLE_EARLY_EOF;break;case L.UNRECOVERABLE_EARLY_EOF:case L.CONNECTING_TIMEOUT:case L.HTTP_STATUS_CODE_INVALID:case L.EXCEPTION:}if(!this._onError)throw new b("IOException: "+t.msg);this._onError(e,t)}};const N={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1};function U(){return Object.assign({},N)}class P{static supportMSEH264Playback(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}static supportNetworkStreamIO(){let e=new M({},U()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t}static getNetworkLoaderTypeName(){let e=new M({},U()),t=e.loaderType;return e.destroy(),t}static supportNativeMediaPlayback(e){void 0==P.videoElement&&(P.videoElement=window.document.createElement("video"));let t=P.videoElement.canPlayType(e);return"probably"===t||"maybe"==t}static getFeatureList(){let e={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return e.mseFlvPlayback=P.supportMSEH264Playback(),e.networkStreamIO=P.supportNetworkStreamIO(),e.networkLoaderName=P.getNetworkLoaderTypeName(),e.mseLiveFlvPlayback=e.mseFlvPlayback&&e.networkStreamIO,e.nativeMP4H264Playback=P.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),e.nativeWebmVP8Playback=P.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),e.nativeWebmVP9Playback=P.supportNativeMediaPlayback('video/webm; codecs="vp9"'),e}}var F=P;var V={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",STATISTICS_INFO:"statistics_info"};class j{static get forceGlobalTag(){return y.FORCE_GLOBAL_TAG}static set forceGlobalTag(e){y.FORCE_GLOBAL_TAG=e,j._notifyChange()}static get globalTag(){return y.GLOBAL_TAG}static set globalTag(e){y.GLOBAL_TAG=e,j._notifyChange()}static get enableAll(){return y.ENABLE_VERBOSE&&y.ENABLE_DEBUG&&y.ENABLE_INFO&&y.ENABLE_WARN&&y.ENABLE_ERROR}static set enableAll(e){y.ENABLE_VERBOSE=e,y.ENABLE_DEBUG=e,y.ENABLE_INFO=e,y.ENABLE_WARN=e,y.ENABLE_ERROR=e,j._notifyChange()}static get enableDebug(){return y.ENABLE_DEBUG}static set enableDebug(e){y.ENABLE_DEBUG=e,j._notifyChange()}static get enableVerbose(){return y.ENABLE_VERBOSE}static set enableVerbose(e){y.ENABLE_VERBOSE=e,j._notifyChange()}static get enableInfo(){return y.ENABLE_INFO}static set enableInfo(e){y.ENABLE_INFO=e,j._notifyChange()}static get enableWarn(){return y.ENABLE_WARN}static set enableWarn(e){y.ENABLE_WARN=e,j._notifyChange()}static get enableError(){return y.ENABLE_ERROR}static set enableError(e){y.ENABLE_ERROR=e,j._notifyChange()}static getConfig(){return{globalTag:y.GLOBAL_TAG,forceGlobalTag:y.FORCE_GLOBAL_TAG,enableVerbose:y.ENABLE_VERBOSE,enableDebug:y.ENABLE_DEBUG,enableInfo:y.ENABLE_INFO,enableWarn:y.ENABLE_WARN,enableError:y.ENABLE_ERROR,enableCallback:y.ENABLE_CALLBACK}}static applyConfig(e){y.GLOBAL_TAG=e.globalTag,y.FORCE_GLOBAL_TAG=e.forceGlobalTag,y.ENABLE_VERBOSE=e.enableVerbose,y.ENABLE_DEBUG=e.enableDebug,y.ENABLE_INFO=e.enableInfo,y.ENABLE_WARN=e.enableWarn,y.ENABLE_ERROR=e.enableError,y.ENABLE_CALLBACK=e.enableCallback}static _notifyChange(){let e=j.emitter;if(e.listenerCount("change")>0){let t=j.getConfig();e.emit("change",t)}}static registerListener(e){j.emitter.addListener("change",e)}static removeListener(e){j.emitter.removeListener("change",e)}static addLogListener(e){y.emitter.addListener("log",e),y.emitter.listenerCount("log")>0&&(y.ENABLE_CALLBACK=!0,j._notifyChange())}static removeLogListener(e){y.emitter.removeListener("log",e),0===y.emitter.listenerCount("log")&&(y.ENABLE_CALLBACK=!1,j._notifyChange())}}j.emitter=new m.a;var H=j;var G=class{constructor(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}isComplete(){let e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t}isSeekable(){return!0===this.hasKeyframesIndex}getNearestKeyframe(e){if(null==this.keyframesIndex)return null;let t=this.keyframesIndex,i=this._search(t.times,e);return{index:i,milliseconds:t.times[i],fileposition:t.filepositions[i]}}_search(e,t){let i=0,n=e.length-1,r=0,s=0,a=n;for(t<e[0]&&(i=0,s=a+1);s<=a;){if((r=s+Math.floor((a-s)/2))===n||t>=e[r]&&t<e[r+1]){i=r;break}e[r]<t?s=r+1:a=r-1}return i}};function q(e,t,i){let n=e;if(t+i<n.length){for(;i--;)if(128!=(192&n[++t]))return!1;return!0}return!1}var z=function(e){let t=[],i=e,n=0,r=e.length;for(;n<r;)if(i[n]<128)t.push(String.fromCharCode(i[n])),++n;else{if(i[n]<192);else if(i[n]<224){if(q(i,n,1)){let e=(31&i[n])<<6|63&i[n+1];if(e>=128){t.push(String.fromCharCode(65535&e)),n+=2;continue}}}else if(i[n]<240){if(q(i,n,2)){let e=(15&i[n])<<12|(63&i[n+1])<<6|63&i[n+2];if(e>=2048&&55296!=(63488&e)){t.push(String.fromCharCode(65535&e)),n+=3;continue}}}else if(i[n]<248&&q(i,n,3)){let e=(7&i[n])<<18|(63&i[n+1])<<12|(63&i[n+2])<<6|63&i[n+3];if(e>65536&&e<1114112){e-=65536,t.push(String.fromCharCode(e>>>10|55296)),t.push(String.fromCharCode(1023&e|56320)),n+=4;continue}}t.push(String.fromCharCode(65533)),++n}return t.join("")};let $=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}();class W{static parseScriptData(e,t,i){let n={};try{let r=W.parseValue(e,t,i),s=W.parseValue(e,t+r.size,i-r.size);n[r.data]=s.data}catch(e){y.e("AMF",e.toString())}return n}static parseObject(e,t,i){if(i<3)throw new E("Data not enough when parse ScriptDataObject");let n=W.parseString(e,t,i),r=W.parseValue(e,t+n.size,i-n.size),s=r.objectEnd;return{data:{name:n.data,value:r.data},size:n.size+r.size,objectEnd:s}}static parseVariable(e,t,i){return W.parseObject(e,t,i)}static parseString(e,t,i){if(i<2)throw new E("Data not enough when parse String");let n,r=new DataView(e,t,i).getUint16(0,!$);return{data:n=r>0?z(new Uint8Array(e,t+2,r)):"",size:2+r}}static parseLongString(e,t,i){if(i<4)throw new E("Data not enough when parse LongString");let n,r=new DataView(e,t,i).getUint32(0,!$);return{data:n=r>0?z(new Uint8Array(e,t+4,r)):"",size:4+r}}static parseDate(e,t,i){if(i<10)throw new E("Data size invalid when parse Date");let n=new DataView(e,t,i),r=n.getFloat64(0,!$),s=n.getInt16(8,!$);return{data:new Date(r+=60*s*1e3),size:10}}static parseValue(e,t,i){if(i<1)throw new E("Data not enough when parse Value");let n,r=new DataView(e,t,i),s=1,a=r.getUint8(0),o=!1;try{switch(a){case 0:n=r.getFloat64(1,!$),s+=8;break;case 1:n=!!r.getUint8(1),s+=1;break;case 2:{let r=W.parseString(e,t+1,i-1);n=r.data,s+=r.size;break}case 3:{n={};let a=0;for(9==(16777215&r.getUint32(i-4,!$))&&(a=3);s<i-4;){let r=W.parseObject(e,t+s,i-s-a);if(r.objectEnd)break;n[r.data.name]=r.data.value,s+=r.size}if(s<=i-3){9===(16777215&r.getUint32(s-1,!$))&&(s+=3)}break}case 8:{n={},s+=4;let a=0;for(9==(16777215&r.getUint32(i-4,!$))&&(a=3);s<i-8;){let r=W.parseVariable(e,t+s,i-s-a);if(r.objectEnd)break;n[r.data.name]=r.data.value,s+=r.size}if(s<=i-3){9===(16777215&r.getUint32(s-1,!$))&&(s+=3)}break}case 9:n=void 0,s=1,o=!0;break;case 10:{n=[];let a=r.getUint32(1,!$);s+=4;for(let r=0;r<a;r++){let r=W.parseValue(e,t+s,i-s);n.push(r.data),s+=r.size}break}case 11:{let r=W.parseDate(e,t+1,i-1);n=r.data,s+=r.size;break}case 12:{let r=W.parseString(e,t+1,i-1);n=r.data,s+=r.size;break}default:s=i,y.w("AMF","Unsupported AMF value type "+a)}}catch(e){y.e("AMF",e.toString())}return{data:n,size:s,objectEnd:o}}}var K=W;var X=class{constructor(e){this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}destroy(){this._buffer=null}_fillCurrentWord(){let e=this._total_bytes-this._buffer_index;if(e<=0)throw new E("ExpGolomb: _fillCurrentWord() but no bytes available");let t=Math.min(4,e),i=new Uint8Array(4);i.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(i.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t}readBits(e){if(e>32)throw new S("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){let t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}let t=this._current_word_bits_left?this._current_word:0;t>>>=32-this._current_word_bits_left;let i=e-this._current_word_bits_left;this._fillCurrentWord();let n=Math.min(i,this._current_word_bits_left),r=this._current_word>>>32-n;return this._current_word<<=n,this._current_word_bits_left-=n,t=t<<n|r}readBool(){return 1===this.readBits(1)}readByte(){return this.readBits(8)}_skipLeadingZero(){let e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()}readUEG(){let e=this._skipLeadingZero();return this.readBits(e+1)-1}readSEG(){let e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)}};class Y{static _ebsp2rbsp(e){let t=e,i=t.byteLength,n=new Uint8Array(i),r=0;for(let e=0;e<i;e++)e>=2&&3===t[e]&&0===t[e-1]&&0===t[e-2]||(n[r]=t[e],r++);return new Uint8Array(n.buffer,0,r)}static parseSPS(e){let t=Y._ebsp2rbsp(e),i=new X(t);i.readByte();let n=i.readByte();i.readByte();let r=i.readByte();i.readUEG();let s=Y.getProfileString(n),a=Y.getLevelString(r),o=1,l=420,h=[0,420,422,444],u=8;if((100===n||110===n||122===n||244===n||44===n||83===n||86===n||118===n||128===n||138===n||144===n)&&(3===(o=i.readUEG())&&i.readBits(1),o<=3&&(l=h[o]),u=i.readUEG()+8,i.readUEG(),i.readBits(1),i.readBool())){let e=3!==o?8:12;for(let t=0;t<e;t++)i.readBool()&&(t<6?Y._skipScalingList(i,16):Y._skipScalingList(i,64))}i.readUEG();let d=i.readUEG();if(0===d)i.readUEG();else if(1===d){i.readBits(1),i.readSEG(),i.readSEG();let e=i.readUEG();for(let t=0;t<e;t++)i.readSEG()}let c=i.readUEG();i.readBits(1);let p=i.readUEG(),f=i.readUEG(),_=i.readBits(1);0===_&&i.readBits(1),i.readBits(1);let m=0,g=0,y=0,v=0;i.readBool()&&(m=i.readUEG(),g=i.readUEG(),y=i.readUEG(),v=i.readUEG());let b=1,E=1,S=0,x=!0,w=0,L=0;if(i.readBool()){if(i.readBool()){let e=i.readByte();e>0&&e<16?(b=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][e-1],E=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][e-1]):255===e&&(b=i.readByte()<<8|i.readByte(),E=i.readByte()<<8|i.readByte())}if(i.readBool()&&i.readBool(),i.readBool()&&(i.readBits(4),i.readBool()&&i.readBits(24)),i.readBool()&&(i.readUEG(),i.readUEG()),i.readBool()){let e=i.readBits(32),t=i.readBits(32);x=i.readBool(),S=(w=t)/(L=2*e)}}let T=1;1===b&&1===E||(T=b/E);let k=0,A=0;if(0===o)k=1,A=2-_;else{k=3===o?1:2,A=(1===o?2:1)*(2-_)}let C=16*(p+1),R=16*(f+1)*(2-_);C-=(m+g)*k,R-=(y+v)*A;let D=Math.ceil(C*T);return i.destroy(),i=null,{profile_string:s,level_string:a,bit_depth:u,ref_frames:c,chroma_format:l,chroma_format_string:Y.getChromaFormatString(l),frame_rate:{fixed:x,fps:S,fps_den:L,fps_num:w},sar_ratio:{width:b,height:E},codec_size:{width:C,height:R},present_size:{width:D,height:R}}}static _skipScalingList(e,t){let i=8,n=8,r=0;for(let s=0;s<t;s++)0!==n&&(n=(i+(r=e.readSEG())+256)%256),i=0===n?i:n}static getProfileString(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}static getLevelString(e){return(e/10).toFixed(1)}static getChromaFormatString(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}var J=Y;var Q={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};class Z{constructor(e,t){this.TAG="FLVDemuxer",this._config=t,this._onError=null,this._onMediaInfo=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new G,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}destroy(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onTrackMetadata=null,this._onDataAvailable=null}static probe(e){let t=new Uint8Array(e),i={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return i;let n=(4&t[4])>>>2!=0,r=0!=(1&t[4]),s=(a=t)[o=5]<<24|a[o+1]<<16|a[o+2]<<8|a[o+3];var a,o;return s<9?i:{match:!0,consumed:s,dataOffset:s,hasAudioTrack:n,hasVideoTrack:r}}bindDataSource(e){return e.onDataArrival=this.parseChunks.bind(this),this}get onTrackMetadata(){return this._onTrackMetadata}set onTrackMetadata(e){this._onTrackMetadata=e}get onMediaInfo(){return this._onMediaInfo}set onMediaInfo(e){this._onMediaInfo=e}get onError(){return this._onError}set onError(e){this._onError=e}get onDataAvailable(){return this._onDataAvailable}set onDataAvailable(e){this._onDataAvailable=e}get timestampBase(){return this._timestampBase}set timestampBase(e){this._timestampBase=e}get overridedDuration(){return this._duration}set overridedDuration(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e}set overridedHasAudio(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e}set overridedHasVideo(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e}resetMediaInfo(){this._mediaInfo=new G}_isInitialMetadataDispatched(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}parseChunks(e,t){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new E("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");let i=0,n=this._littleEndian;if(0===t){if(!(e.byteLength>13))return 0;i=Z.probe(e).dataOffset}if(this._firstParse){this._firstParse=!1,t+i!==this._dataOffset&&y.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==new DataView(e,i).getUint32(0,!n)&&y.w(this.TAG,"PrevTagSize0 !== 0 !!!"),i+=4}for(;i<e.byteLength;){this._dispatch=!0;let r=new DataView(e,i);if(i+11+4>e.byteLength)break;let s=r.getUint8(0),a=16777215&r.getUint32(0,!n);if(i+11+a+4>e.byteLength)break;if(8!==s&&9!==s&&18!==s){y.w(this.TAG,`Unsupported tag type ${s}, skipped`),i+=11+a+4;continue}let o=r.getUint8(4),l=r.getUint8(5),h=r.getUint8(6)|l<<8|o<<16|r.getUint8(7)<<24;0!==(16777215&r.getUint32(7,!n))&&y.w(this.TAG,"Meet tag which has StreamID != 0!");let u=i+11;switch(s){case 8:this._parseAudioData(e,u,a,h);break;case 9:this._parseVideoData(e,u,a,h,t+i);break;case 18:this._parseScriptData(e,u,a)}let d=r.getUint32(11+a,!n);d!==11+a&&y.w(this.TAG,`Invalid PrevTagSize ${d}`),i+=11+a+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),i}_parseScriptData(e,t,i){let n=K.parseScriptData(e,t,i);if(n.hasOwnProperty("onMetaData")){if(null==n.onMetaData||"object"!=typeof n.onMetaData)return void y.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&y.w(this.TAG,"Found another onMetaData tag!"),this._metadata=n;let e=this._metadata.onMetaData;if("boolean"==typeof e.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=e.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof e.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=e.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof e.audiodatarate&&(this._mediaInfo.audioDataRate=e.audiodatarate),"number"==typeof e.videodatarate&&(this._mediaInfo.videoDataRate=e.videodatarate),"number"==typeof e.width&&(this._mediaInfo.width=e.width),"number"==typeof e.height&&(this._mediaInfo.height=e.height),"number"==typeof e.duration){if(!this._durationOverrided){let t=Math.floor(e.duration*this._timescale);this._duration=t,this._mediaInfo.duration=t}}else this._mediaInfo.duration=0;if("number"==typeof e.framerate){let t=Math.floor(1e3*e.framerate);if(t>0){let e=t/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=e,this._referenceFrameRate.fps_num=t,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=e}}if("object"==typeof e.keyframes){this._mediaInfo.hasKeyframesIndex=!0;let t=e.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(t),e.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=e,y.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}}_parseKeyframesIndex(e){let t=[],i=[];for(let n=1;n<e.times.length;n++){let r=this._timestampBase+Math.floor(1e3*e.times[n]);t.push(r),i.push(e.filepositions[n])}return{times:t,filepositions:i}}_parseAudioData(e,t,i,n){if(i<=1)return void y.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");if(!0===this._hasAudioFlagOverrided&&!1===this._hasAudio)return;this._littleEndian;let r=new DataView(e,t,i).getUint8(0),s=r>>>4;if(2!==s&&10!==s)return void this._onError(Q.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+s);let a=0,o=(12&r)>>>2;if(!(o>=0&&o<=4))return void this._onError(Q.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+o);a=this._flvSoundRateTable[o];let l=1&r,h=this._audioMetadata,u=this._audioTrack;if(h||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(h=this._audioMetadata={}).type="audio",h.id=u.id,h.timescale=this._timescale,h.duration=this._duration,h.audioSampleRate=a,h.channelCount=0===l?1:2),10===s){let r=this._parseAACAudioData(e,t+1,i-1);if(void 0==r)return;if(0===r.packetType){h.config&&y.w(this.TAG,"Found another AudioSpecificConfig!");let e=r.data;h.audioSampleRate=e.samplingRate,h.channelCount=e.channelCount,h.codec=e.codec,h.originalCodec=e.originalCodec,h.config=e.config,h.refSampleDuration=1024/h.audioSampleRate*h.timescale,y.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",h);let t=this._mediaInfo;t.audioCodec=h.originalCodec,t.audioSampleRate=h.audioSampleRate,t.audioChannelCount=h.channelCount,t.hasVideo?null!=t.videoCodec&&(t.mimeType='video/x-flv; codecs="'+t.videoCodec+","+t.audioCodec+'"'):t.mimeType='video/x-flv; codecs="'+t.audioCodec+'"',t.isComplete()&&this._onMediaInfo(t)}else if(1===r.packetType){let e=this._timestampBase+n,t={unit:r.data,length:r.data.byteLength,dts:e,pts:e};u.samples.push(t),u.length+=r.data.length}else y.e(this.TAG,`Flv: Unsupported AAC data type ${r.packetType}`)}else if(2===s){if(!h.codec){let n=this._parseMP3AudioData(e,t+1,i-1,!0);if(void 0==n)return;h.audioSampleRate=n.samplingRate,h.channelCount=n.channelCount,h.codec=n.codec,h.originalCodec=n.originalCodec,h.refSampleDuration=1152/h.audioSampleRate*h.timescale,y.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",h);let r=this._mediaInfo;r.audioCodec=h.codec,r.audioSampleRate=h.audioSampleRate,r.audioChannelCount=h.channelCount,r.audioDataRate=n.bitRate,r.hasVideo?null!=r.videoCodec&&(r.mimeType='video/x-flv; codecs="'+r.videoCodec+","+r.audioCodec+'"'):r.mimeType='video/x-flv; codecs="'+r.audioCodec+'"',r.isComplete()&&this._onMediaInfo(r)}let r=this._parseMP3AudioData(e,t+1,i-1,!1);if(void 0==r)return;let s=this._timestampBase+n,a={unit:r,length:r.byteLength,dts:s,pts:s};u.samples.push(a),u.length+=r.length}}_parseAACAudioData(e,t,i){if(i<=1)return void y.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");let n={},r=new Uint8Array(e,t,i);return n.packetType=r[0],0===r[0]?n.data=this._parseAACAudioSpecificConfig(e,t+1,i-1):n.data=r.subarray(1),n}_parseAACAudioSpecificConfig(e,t,i){let n=new Uint8Array(e,t,i),r=null,s=0,a=0,o=null,l=0,h=null;if(s=a=n[0]>>>3,(l=(7&n[0])<<1|n[1]>>>7)<0||l>=this._mpegSamplingRates.length)return void this._onError(Q.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");let u=this._mpegSamplingRates[l],d=(120&n[1])>>>3;if(d<0||d>=8)return void this._onError(Q.FORMAT_ERROR,"Flv: AAC invalid channel configuration");5===s&&(h=(7&n[1])<<1|n[2]>>>7,o=(124&n[2])>>>2);let c=self.navigator.userAgent.toLowerCase();return-1!==c.indexOf("firefox")?l>=6?(s=5,r=new Array(4),h=l-3):(s=2,r=new Array(2),h=l):-1!==c.indexOf("android")?(s=2,r=new Array(2),h=l):(s=5,h=l,r=new Array(4),l>=6?h=l-3:1===d&&(s=2,r=new Array(2),h=l)),r[0]=s<<3,r[0]|=(15&l)>>>1,r[1]=(15&l)<<7,r[1]|=(15&d)<<3,5===s&&(r[1]|=(15&h)>>>1,r[2]=(1&h)<<7,r[2]|=8,r[3]=0),{config:r,samplingRate:u,channelCount:d,codec:"mp4a.40."+s,originalCodec:"mp4a.40."+a}}_parseMP3AudioData(e,t,i,n){if(i<4)return void y.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");this._littleEndian;let r=new Uint8Array(e,t,i),s=null;if(n){if(255!==r[0])return;let e=r[1]>>>3&3,t=(6&r[1])>>1,i=(240&r[2])>>>4,n=(12&r[2])>>>2,a=3!==(r[3]>>>6&3)?2:1,o=0,l=0,h=34,u="mp3";switch(e){case 0:o=this._mpegAudioV25SampleRateTable[n];break;case 2:o=this._mpegAudioV20SampleRateTable[n];break;case 3:o=this._mpegAudioV10SampleRateTable[n]}switch(t){case 1:h=34,i<this._mpegAudioL3BitRateTable.length&&(l=this._mpegAudioL3BitRateTable[i]);break;case 2:h=33,i<this._mpegAudioL2BitRateTable.length&&(l=this._mpegAudioL2BitRateTable[i]);break;case 3:h=32,i<this._mpegAudioL1BitRateTable.length&&(l=this._mpegAudioL1BitRateTable[i])}s={bitRate:l,samplingRate:o,channelCount:a,codec:u,originalCodec:u}}else s=r;return s}_parseVideoData(e,t,i,n,r){if(i<=1)return void y.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");if(!0===this._hasVideoFlagOverrided&&!1===this._hasVideo)return;let s=new Uint8Array(e,t,i)[0],a=(240&s)>>>4,o=15&s;7===o?this._parseAVCVideoPacket(e,t+1,i-1,n,r,a):this._onError(Q.CODEC_UNSUPPORTED,`Flv: Unsupported codec in video frame: ${o}`)}_parseAVCVideoPacket(e,t,i,n,r,s){if(i<4)return void y.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");let a=this._littleEndian,o=new DataView(e,t,i),l=o.getUint8(0),h=(16777215&o.getUint32(0,!a))<<8>>8;if(0===l)this._parseAVCDecoderConfigurationRecord(e,t+4,i-4);else if(1===l)this._parseAVCVideoData(e,t+4,i-4,n,r,s,h);else if(2!==l)return void this._onError(Q.FORMAT_ERROR,`Flv: Invalid video packet type ${l}`)}_parseAVCDecoderConfigurationRecord(e,t,i){if(i<7)return void y.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");let n=this._videoMetadata,r=this._videoTrack,s=this._littleEndian,a=new DataView(e,t,i);n?void 0!==n.avcc&&y.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(n=this._videoMetadata={}).type="video",n.id=r.id,n.timescale=this._timescale,n.duration=this._duration);let o=a.getUint8(0),l=a.getUint8(1);a.getUint8(2),a.getUint8(3);if(1!==o||0===l)return void this._onError(Q.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");if(this._naluLengthSize=1+(3&a.getUint8(4)),3!==this._naluLengthSize&&4!==this._naluLengthSize)return void this._onError(Q.FORMAT_ERROR,`Flv: Strange NaluLengthSizeMinusOne: ${this._naluLengthSize-1}`);let h=31&a.getUint8(5);if(0===h)return void this._onError(Q.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");h>1&&y.w(this.TAG,`Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ${h}`);let u=6;for(let i=0;i<h;i++){let r=a.getUint16(u,!s);if(u+=2,0===r)continue;let o=new Uint8Array(e,t+u,r);u+=r;let l=J.parseSPS(o);if(0!==i)continue;n.codecWidth=l.codec_size.width,n.codecHeight=l.codec_size.height,n.presentWidth=l.present_size.width,n.presentHeight=l.present_size.height,n.profile=l.profile_string,n.level=l.level_string,n.bitDepth=l.bit_depth,n.chromaFormat=l.chroma_format,n.sarRatio=l.sar_ratio,n.frameRate=l.frame_rate,!1!==l.frame_rate.fixed&&0!==l.frame_rate.fps_num&&0!==l.frame_rate.fps_den||(n.frameRate=this._referenceFrameRate);let h=n.frameRate.fps_den,d=n.frameRate.fps_num;n.refSampleDuration=n.timescale*(h/d);let c=o.subarray(1,4),p="avc1.";for(let e=0;e<3;e++){let t=c[e].toString(16);t.length<2&&(t="0"+t),p+=t}n.codec=p;let f=this._mediaInfo;f.width=n.codecWidth,f.height=n.codecHeight,f.fps=n.frameRate.fps,f.profile=n.profile,f.level=n.level,f.refFrames=l.ref_frames,f.chromaFormat=l.chroma_format_string,f.sarNum=n.sarRatio.width,f.sarDen=n.sarRatio.height,f.videoCodec=p,f.hasAudio?null!=f.audioCodec&&(f.mimeType='video/x-flv; codecs="'+f.videoCodec+","+f.audioCodec+'"'):f.mimeType='video/x-flv; codecs="'+f.videoCodec+'"',f.isComplete()&&this._onMediaInfo(f)}let d=a.getUint8(u);if(0!==d){d>1&&y.w(this.TAG,`Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ${d}`),u++;for(let e=0;e<d;e++){let e=a.getUint16(u,!s);u+=2,0!==e&&(u+=e)}n.avcc=new Uint8Array(i),n.avcc.set(new Uint8Array(e,t,i),0),y.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",n)}else this._onError(Q.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}_parseAVCVideoData(e,t,i,n,r,s,a){let o=this._littleEndian,l=new DataView(e,t,i),h=[],u=0,d=0;const c=this._naluLengthSize;let p=this._timestampBase+n,f=1===s;for(;d<i;){if(d+4>=i){y.w(this.TAG,`Malformed Nalu near timestamp ${p}, offset = ${d}, dataSize = ${i}`);break}let n=l.getUint32(d,!o);if(3===c&&(n>>>=8),n>i-c)return void y.w(this.TAG,`Malformed Nalus near timestamp ${p}, NaluSize > DataSize!`);let r=31&l.getUint8(d+c);5===r&&(f=!0);let s=new Uint8Array(e,t+d,c+n),a={type:r,data:s};h.push(a),u+=s.byteLength,d+=c+n}if(h.length){let e=this._videoTrack,t={units:h,length:u,isKeyframe:f,dts:p,cts:a,pts:p+a};f&&(t.fileposition=r),e.samples.push(t),e.length+=u}}}var ee=Z;class te{static init(){te.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(let e in te.types)te.types.hasOwnProperty(e)&&(te.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);let e=te.constants={};e.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),e.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),e.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSC=e.STCO=e.STTS,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),e.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),e.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}static box(e){let t=8,i=null,n=Array.prototype.slice.call(arguments,1),r=n.length;for(let e=0;e<r;e++)t+=n[e].byteLength;(i=new Uint8Array(t))[0]=t>>>24&255,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i.set(e,4);let s=8;for(let e=0;e<r;e++)i.set(n[e],s),s+=n[e].byteLength;return i}static generateInitSegment(e){let t=te.box(te.types.ftyp,te.constants.FTYP),i=te.moov(e),n=new Uint8Array(t.byteLength+i.byteLength);return n.set(t,0),n.set(i,t.byteLength),n}static moov(e){let t=te.mvhd(e.timescale,e.duration),i=te.trak(e),n=te.mvex(e);return te.box(te.types.moov,t,i,n)}static mvhd(e,t){return te.box(te.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}static trak(e){return te.box(te.types.trak,te.tkhd(e),te.mdia(e))}static tkhd(e){let t=e.id,i=e.duration,n=e.presentWidth,r=e.presentHeight;return te.box(te.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>>8&255,255&n,0,0,r>>>8&255,255&r,0,0]))}static mdia(e){return te.box(te.types.mdia,te.mdhd(e),te.hdlr(e),te.minf(e))}static mdhd(e){let t=e.timescale,i=e.duration;return te.box(te.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,i>>>24&255,i>>>16&255,i>>>8&255,255&i,85,196,0,0]))}static hdlr(e){let t=null;return t="audio"===e.type?te.constants.HDLR_AUDIO:te.constants.HDLR_VIDEO,te.box(te.types.hdlr,t)}static minf(e){let t=null;return t="audio"===e.type?te.box(te.types.smhd,te.constants.SMHD):te.box(te.types.vmhd,te.constants.VMHD),te.box(te.types.minf,t,te.dinf(),te.stbl(e))}static dinf(){return te.box(te.types.dinf,te.box(te.types.dref,te.constants.DREF))}static stbl(e){return te.box(te.types.stbl,te.stsd(e),te.box(te.types.stts,te.constants.STTS),te.box(te.types.stsc,te.constants.STSC),te.box(te.types.stsz,te.constants.STSZ),te.box(te.types.stco,te.constants.STCO))}static stsd(e){return"audio"===e.type?"mp3"===e.codec?te.box(te.types.stsd,te.constants.STSD_PREFIX,te.mp3(e)):te.box(te.types.stsd,te.constants.STSD_PREFIX,te.mp4a(e)):te.box(te.types.stsd,te.constants.STSD_PREFIX,te.avc1(e))}static mp3(e){let t=e.channelCount,i=e.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return te.box(te.types[".mp3"],n)}static mp4a(e){let t=e.channelCount,i=e.audioSampleRate,n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return te.box(te.types.mp4a,n,te.esds(e))}static esds(e){let t=e.config||[],i=t.length,n=new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(t).concat([6,1,2]));return te.box(te.types.esds,n)}static avc1(e){let t=e.avcc,i=e.codecWidth,n=e.codecHeight,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,n>>>8&255,255&n,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return te.box(te.types.avc1,r,te.box(te.types.avcC,t))}static mvex(e){return te.box(te.types.mvex,te.trex(e))}static trex(e){let t=e.id,i=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return te.box(te.types.trex,i)}static moof(e,t){return te.box(te.types.moof,te.mfhd(e.sequenceNumber),te.traf(e,t))}static mfhd(e){let t=new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e]);return te.box(te.types.mfhd,t)}static traf(e,t){let i=e.id,n=te.box(te.types.tfhd,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),r=te.box(te.types.tfdt,new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t])),s=te.sdtp(e),a=te.trun(e,s.byteLength+16+16+8+16+8+8);return te.box(te.types.traf,n,r,a,s)}static sdtp(e){let t=e.samples||[],i=t.length,n=new Uint8Array(4+i);for(let e=0;e<i;e++){let i=t[e].flags;n[e+4]=i.isLeading<<6|i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy}return te.box(te.types.sdtp,n)}static trun(e,t){let i=e.samples||[],n=i.length,r=12+16*n,s=new Uint8Array(r);t+=8+r,s.set([0,0,15,1,n>>>24&255,n>>>16&255,n>>>8&255,255&n,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0);for(let e=0;e<n;e++){let t=i[e].duration,n=i[e].size,r=i[e].flags,a=i[e].cts;s.set([t>>>24&255,t>>>16&255,t>>>8&255,255&t,n>>>24&255,n>>>16&255,n>>>8&255,255&n,r.isLeading<<2|r.dependsOn,r.isDependedOn<<6|r.hasRedundancy<<4|r.isNonSync,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a],12+16*e)}return te.box(te.types.trun,s)}static mdat(e){return te.box(te.types.mdat,e)}}te.init();var ie=te;var ne=class{static getSilentFrame(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}};class re{constructor(e,t,i,n,r){this.dts=e,this.pts=t,this.duration=i,this.originalDts=n,this.isSyncPoint=r,this.fileposition=null}}class se{constructor(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}appendSyncPoint(e){e.isSyncPoint=!0,this.syncPoints.push(e)}}class ae{constructor(){this._list=[]}clear(){this._list=[]}appendArray(e){let t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))}getLastSyncPointBeforeDts(e){if(0==this._list.length)return null;let t=this._list,i=0,n=t.length-1,r=0,s=0,a=n;for(e<t[0].dts&&(i=0,s=a+1);s<=a;){if((r=s+Math.floor((a-s)/2))===n||e>=t[r].dts&&e<t[r+1].dts){i=r;break}t[r].dts<e?s=r+1:a=r-1}return this._list[i]}}class oe{constructor(e){this._type=e,this._list=[],this._lastAppendLocation=-1}get type(){return this._type}get length(){return this._list.length}isEmpty(){return 0===this._list.length}clear(){this._list=[],this._lastAppendLocation=-1}_searchNearestSegmentBefore(e){let t=this._list;if(0===t.length)return-2;let i=t.length-1,n=0,r=0,s=i,a=0;if(e<t[0].originalBeginDts)return a=-1;for(;r<=s;){if((n=r+Math.floor((s-r)/2))===i||e>t[n].lastSample.originalDts&&e<t[n+1].originalBeginDts){a=n;break}t[n].originalBeginDts<e?r=n+1:s=n-1}return a}_searchNearestSegmentAfter(e){return this._searchNearestSegmentBefore(e)+1}append(e){let t=this._list,i=e,n=this._lastAppendLocation,r=0;-1!==n&&n<t.length&&i.originalBeginDts>=t[n].lastSample.originalDts&&(n===t.length-1||n<t.length-1&&i.originalBeginDts<t[n+1].originalBeginDts)?r=n+1:t.length>0&&(r=this._searchNearestSegmentBefore(i.originalBeginDts)+1),this._lastAppendLocation=r,this._list.splice(r,0,i)}getLastSegmentBefore(e){let t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null}getLastSampleBefore(e){let t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null}getLastSyncPointBefore(e){let t=this._searchNearestSegmentBefore(e),i=this._list[t].syncPoints;for(;0===i.length&&t>0;)t--,i=this._list[t].syncPoints;return i.length>0?i[i.length-1]:null}}var le=class{constructor(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new oe("audio"),this._videoSegmentInfoList=new oe("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!A.chrome||!(A.version.major<50||50===A.version.major&&A.version.build<2661)),this._fillSilentAfterSeek=A.msedge||A.msie,this._mp3UseMpegAudio=!A.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}destroy(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}bindDataSource(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}get onInitSegment(){return this._onInitSegment}set onInitSegment(e){this._onInitSegment=e}get onMediaSegment(){return this._onMediaSegment}set onMediaSegment(e){this._onMediaSegment=e}insertDiscontinuity(){this._audioNextDts=this._videoNextDts=void 0}seek(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}remux(e,t){if(!this._onMediaSegment)throw new E("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)}_onTrackMetadataReceived(e,t){let i=null,n="mp4",r=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(n="mpeg",r="",i=new Uint8Array):i=ie.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,i=ie.generateInitSegment(t)}if(!this._onInitSegment)throw new E("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:i.buffer,codec:r,container:`${e}/${n}`,mediaDuration:t.duration})}_calculateDtsBase(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}flushStashedSamples(){let e=this._videoStashedLastSample,t=this._audioStashedLastSample,i={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(i.samples.push(e),i.length=e.length);let n={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(n.samples.push(t),n.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(i,!0),this._remuxAudio(n,!0)}_remuxAudio(e,t){if(null==this._audioMeta)return;let i=e,n=i.samples,r=void 0,s=-1,a=-1,o=this._audioMeta.refSampleDuration,l="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,h=this._dtsBaseInited&&void 0===this._audioNextDts,u=!1;if(!n||0===n.length)return;if(1===n.length&&!t)return;let d=0,c=null,p=0;l?(d=0,p=i.length):(d=8,p=8+i.length);let f=null;if(n.length>1&&(p-=(f=n.pop()).length),null!=this._audioStashedLastSample){let e=this._audioStashedLastSample;this._audioStashedLastSample=null,n.unshift(e),p+=e.length}null!=f&&(this._audioStashedLastSample=f);let _=n[0].dts-this._dtsBase;if(this._audioNextDts)r=_-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())r=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(u=!0);else{let e=this._audioSegmentInfoList.getLastSampleBefore(_);if(null!=e){let t=_-(e.originalDts+e.duration);t<=3&&(t=0),r=_-(e.dts+e.duration+t)}else r=0}if(u){let e=_-r,t=this._videoSegmentInfoList.getLastSegmentBefore(_);if(null!=t&&t.beginDts<e){let i=ne.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(i){let r=t.beginDts,s=e-t.beginDts;y.v(this.TAG,`InsertPrefixSilentAudio: dts: ${r}, duration: ${s}`),n.unshift({unit:i,dts:r,pts:r}),p+=i.byteLength}}else u=!1}let m=[];for(let e=0;e<n.length;e++){let t=n[e],i=t.unit,a=t.dts-this._dtsBase,l=a-r;-1===s&&(s=l);let h=0,u=!1,d=null;if((h=e!==n.length-1?n[e+1].dts-this._dtsBase-r-l:null!=f?f.dts-this._dtsBase-r-l:m.length>=1?m[m.length-1].duration:Math.floor(o))>1.5*o&&"mp3"!==this._audioMeta.codec&&this._fillAudioTimestampGap&&!A.safari){u=!0;let e=Math.abs(h-o),t=Math.ceil(e/o),n=l+o;y.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\n"+`dts: ${l+h} ms, expected: ${l+Math.round(o)} ms, `+`delta: ${Math.round(e)} ms, generate: ${t} frames`);let r=ne.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==r&&(y.w(this.TAG,"Unable to generate silent frame for "+`${this._audioMeta.originalCodec} with ${this._audioMeta.channelCount} channels, repeat last frame`),r=i),d=[];for(let e=0;e<t;e++){let e=Math.round(n);if(d.length>0){let t=d[d.length-1];t.duration=e-t.dts}let t={dts:e,pts:e,cts:0,unit:r,size:r.byteLength,duration:0,originalDts:a,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};d.push(t),p+=i.byteLength,n+=o}let s=d[d.length-1];s.duration=l+h-s.dts,h=Math.round(o)}m.push({dts:l,pts:l,cts:0,unit:t.unit,size:t.unit.byteLength,duration:h,originalDts:a,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),u&&m.push.apply(m,d)}l?c=new Uint8Array(p):((c=new Uint8Array(p))[0]=p>>>24&255,c[1]=p>>>16&255,c[2]=p>>>8&255,c[3]=255&p,c.set(ie.types.mdat,4));for(let e=0;e<m.length;e++){let t=m[e].unit;c.set(t,d),d+=t.byteLength}let g=m[m.length-1];a=g.dts+g.duration,this._audioNextDts=a;let v=new se;v.beginDts=s,v.endDts=a,v.beginPts=s,v.endPts=a,v.originalBeginDts=m[0].originalDts,v.originalEndDts=g.originalDts+g.duration,v.firstSample=new re(m[0].dts,m[0].pts,m[0].duration,m[0].originalDts,!1),v.lastSample=new re(g.dts,g.pts,g.duration,g.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(v),i.samples=m,i.sequenceNumber++;let b=null;b=l?new Uint8Array:ie.moof(i,s),i.samples=[],i.length=0;let E={type:"audio",data:this._mergeBoxes(b,c).buffer,sampleCount:m.length,info:v};l&&h&&(E.timestampOffset=s),this._onMediaSegment("audio",E)}_remuxVideo(e,t){if(null==this._videoMeta)return;let i=e,n=i.samples,r=void 0,s=-1,a=-1,o=-1,l=-1;if(!n||0===n.length)return;if(1===n.length&&!t)return;let h=8,u=null,d=8+e.length,c=null;if(n.length>1&&(d-=(c=n.pop()).length),null!=this._videoStashedLastSample){let e=this._videoStashedLastSample;this._videoStashedLastSample=null,n.unshift(e),d+=e.length}null!=c&&(this._videoStashedLastSample=c);let p=n[0].dts-this._dtsBase;if(this._videoNextDts)r=p-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())r=0;else{let e=this._videoSegmentInfoList.getLastSampleBefore(p);if(null!=e){let t=p-(e.originalDts+e.duration);t<=3&&(t=0),r=p-(e.dts+e.duration+t)}else r=0}let f=new se,_=[];for(let e=0;e<n.length;e++){let t=n[e],i=t.dts-this._dtsBase,a=t.isKeyframe,l=i-r,h=t.cts,u=l+h;-1===s&&(s=l,o=u);let d=0;if(d=e!==n.length-1?n[e+1].dts-this._dtsBase-r-l:null!=c?c.dts-this._dtsBase-r-l:_.length>=1?_[_.length-1].duration:Math.floor(this._videoMeta.refSampleDuration),a){let e=new re(l,u,d,t.dts,!0);e.fileposition=t.fileposition,f.appendSyncPoint(e)}_.push({dts:l,pts:u,cts:h,units:t.units,size:t.length,isKeyframe:a,duration:d,originalDts:i,flags:{isLeading:0,dependsOn:a?2:1,isDependedOn:a?1:0,hasRedundancy:0,isNonSync:a?0:1}})}(u=new Uint8Array(d))[0]=d>>>24&255,u[1]=d>>>16&255,u[2]=d>>>8&255,u[3]=255&d,u.set(ie.types.mdat,4);for(let e=0;e<_.length;e++){let t=_[e].units;for(;t.length;){let e=t.shift().data;u.set(e,h),h+=e.byteLength}}let m=_[_.length-1];if(a=m.dts+m.duration,l=m.pts+m.duration,this._videoNextDts=a,f.beginDts=s,f.endDts=a,f.beginPts=o,f.endPts=l,f.originalBeginDts=_[0].originalDts,f.originalEndDts=m.originalDts+m.duration,f.firstSample=new re(_[0].dts,_[0].pts,_[0].duration,_[0].originalDts,_[0].isKeyframe),f.lastSample=new re(m.dts,m.pts,m.duration,m.originalDts,m.isKeyframe),this._isLive||this._videoSegmentInfoList.append(f),i.samples=_,i.sequenceNumber++,this._forceFirstIDR){let e=_[0].flags;e.dependsOn=2,e.isNonSync=0}let g=ie.moof(i,s);i.samples=[],i.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(g,u).buffer,sampleCount:_.length,info:f})}_mergeBoxes(e,t){let i=new Uint8Array(e.byteLength+t.byteLength);return i.set(e,0),i.set(t,e.byteLength),i}};var he={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};var ue=class{constructor(e,t){this.TAG="TransmuxingController",this._emitter=new m.a,this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;let i=0;this._mediaDataSource.segments.forEach(n=>{n.timestampBase=i,i+=n.duration,n.cors=e.cors,n.withCredentials=e.withCredentials,t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy)}),isNaN(i)||this._mediaDataSource.duration===i||(this._mediaDataSource.duration=i),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}destroy(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null}on(e,t){this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}start(){this._loadSegment(0),this._enableStatisticsReporter()}_loadSegment(e,t){this._currentSegmentIndex=e;let i=this._mediaDataSource.segments[e],n=this._ioctl=new M(i,this._config,e);n.onError=this._onIOException.bind(this),n.onSeeked=this._onIOSeeked.bind(this),n.onComplete=this._onIOComplete.bind(this),n.onRedirect=this._onIORedirect.bind(this),n.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):n.onDataArrival=this._onInitChunkArrival.bind(this),n.open(t)}stop(){this._internalAbort(),this._disableStatisticsReporter()}_internalAbort(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}pause(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}resume(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}seek(e){if(null==this._mediaInfo||!this._mediaInfo.isSeekable())return;let t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){let i=this._mediaInfo.segments[t];if(void 0==i)this._pendingSeekTime=e;else{let t=i.getNearestKeyframe(e);this._remuxer.seek(t.milliseconds),this._ioctl.seek(t.fileposition),this._pendingResolveSeekPoint=t.milliseconds}}else{let i=this._mediaInfo.segments[t];if(void 0==i)this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t);else{let n=i.getNearestKeyframe(e);this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,n.fileposition),this._pendingResolveSeekPoint=n.milliseconds,this._reportSegmentMediaInfo(t)}}this._enableStatisticsReporter()}_searchSegmentIndexContains(e){let t=this._mediaDataSource.segments,i=t.length-1;for(let n=0;n<t.length;n++)if(e<t[n].timestampBase){i=n-1;break}return i}_onInitChunkArrival(e,t){let i=null,n=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,n=this._demuxer.parseChunks(e,t);else if((i=ee.probe(e)).match){this._demuxer=new ee(i,this._config),this._remuxer||(this._remuxer=new le(this._config));let r=this._mediaDataSource;void 0==r.duration||isNaN(r.duration)||(this._demuxer.overridedDuration=r.duration),"boolean"==typeof r.hasAudio&&(this._demuxer.overridedHasAudio=r.hasAudio),"boolean"==typeof r.hasVideo&&(this._demuxer.overridedHasVideo=r.hasVideo),this._demuxer.timestampBase=r.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),n=this._demuxer.parseChunks(e,t)}else i=null,y.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(()=>{this._internalAbort()}),this._emitter.emit(he.DEMUX_ERROR,Q.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),n=0;return n}_onMediaInfo(e){null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,G.prototype));let t=Object.assign({},e);Object.setPrototypeOf(t,G.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=t,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(()=>{let e=this._pendingSeekTime;this._pendingSeekTime=null,this.seek(e)})}_onIOSeeked(){this._remuxer.insertDiscontinuity()}_onIOComplete(e){let t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer.flushStashedSamples(),this._emitter.emit(he.LOADING_COMPLETE),this._disableStatisticsReporter())}_onIORedirect(e){let t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e}_onIORecoveredEarlyEof(){this._emitter.emit(he.RECOVERED_EARLY_EOF)}_onIOException(e,t){y.e(this.TAG,`IOException: type = ${e}, code = ${t.code}, msg = ${t.msg}`),this._emitter.emit(he.IO_ERROR,e,t),this._disableStatisticsReporter()}_onDemuxException(e,t){y.e(this.TAG,`DemuxException: type = ${e}, info = ${t}`),this._emitter.emit(he.DEMUX_ERROR,e,t)}_onRemuxerInitSegmentArrival(e,t){this._emitter.emit(he.INIT_SEGMENT,e,t)}_onRemuxerMediaSegmentArrival(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(he.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){let e=t.info.syncPoints,i=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,A.safari&&e.length>0&&e[0].originalDts===i&&(i=e[0].pts),this._emitter.emit(he.RECOMMEND_SEEKPOINT,i)}}_enableStatisticsReporter(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}_disableStatisticsReporter(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}_reportSegmentMediaInfo(e){let t=this._mediaInfo.segments[e],i=Object.assign({},t);i.duration=this._mediaInfo.duration,i.segmentCount=this._mediaInfo.segmentCount,delete i.segments,delete i.keyframesIndex,this._emitter.emit(he.MEDIA_INFO,i)}_reportStatisticsInfo(){let e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(he.STATISTICS_INFO,e)}};var de=function(e){let t=null,i=function(t,i){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:i}})}.bind(this);f.install(),e.addEventListener("message",function(n){switch(n.data.cmd){case"init":(t=new ue(n.data.param[0],n.data.param[1])).on(he.IO_ERROR,function(t,i){e.postMessage({msg:he.IO_ERROR,data:{type:t,info:i}})}.bind(this)),t.on(he.DEMUX_ERROR,function(t,i){e.postMessage({msg:he.DEMUX_ERROR,data:{type:t,info:i}})}.bind(this)),t.on(he.INIT_SEGMENT,function(t,i){let n={msg:he.INIT_SEGMENT,data:{type:t,data:i}};e.postMessage(n,[i.data])}.bind(this)),t.on(he.MEDIA_SEGMENT,function(t,i){let n={msg:he.MEDIA_SEGMENT,data:{type:t,data:i}};e.postMessage(n,[i.data])}.bind(this)),t.on(he.LOADING_COMPLETE,function(){let t={msg:he.LOADING_COMPLETE};e.postMessage(t)}.bind(this)),t.on(he.RECOVERED_EARLY_EOF,function(){let t={msg:he.RECOVERED_EARLY_EOF};e.postMessage(t)}.bind(this)),t.on(he.MEDIA_INFO,function(t){let i={msg:he.MEDIA_INFO,data:t};e.postMessage(i)}.bind(this)),t.on(he.STATISTICS_INFO,function(t){let i={msg:he.STATISTICS_INFO,data:t};e.postMessage(i)}.bind(this)),t.on(he.RECOMMEND_SEEKPOINT,function(t){e.postMessage({msg:he.RECOMMEND_SEEKPOINT,data:t})}.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(n.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":{let e=n.data.param;H.applyConfig(e),!0===e.enableCallback?H.addLogListener(i):H.removeLogListener(i);break}}})};var ce=class{constructor(e,t){if(this.TAG="Transmuxer",this._emitter=new m.a,t.enableWorker&&"undefined"!=typeof Worker)try{let n=i(70);this._worker=n(de),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},H.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:H.getConfig()})}catch(i){y.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new ue(e,t)}else this._controller=new ue(e,t);if(this._controller){let e=this._controller;e.on(he.IO_ERROR,this._onIOError.bind(this)),e.on(he.DEMUX_ERROR,this._onDemuxError.bind(this)),e.on(he.INIT_SEGMENT,this._onInitSegment.bind(this)),e.on(he.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),e.on(he.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),e.on(he.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),e.on(he.MEDIA_INFO,this._onMediaInfo.bind(this)),e.on(he.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),e.on(he.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}destroy(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),H.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null}on(e,t){this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}hasWorker(){return null!=this._worker}open(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()}close(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()}seek(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)}pause(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()}resume(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()}_onInitSegment(e,t){Promise.resolve().then(()=>{this._emitter.emit(he.INIT_SEGMENT,e,t)})}_onMediaSegment(e,t){Promise.resolve().then(()=>{this._emitter.emit(he.MEDIA_SEGMENT,e,t)})}_onLoadingComplete(){Promise.resolve().then(()=>{this._emitter.emit(he.LOADING_COMPLETE)})}_onRecoveredEarlyEof(){Promise.resolve().then(()=>{this._emitter.emit(he.RECOVERED_EARLY_EOF)})}_onMediaInfo(e){Promise.resolve().then(()=>{this._emitter.emit(he.MEDIA_INFO,e)})}_onStatisticsInfo(e){Promise.resolve().then(()=>{this._emitter.emit(he.STATISTICS_INFO,e)})}_onIOError(e,t){Promise.resolve().then(()=>{this._emitter.emit(he.IO_ERROR,e,t)})}_onDemuxError(e,t){Promise.resolve().then(()=>{this._emitter.emit(he.DEMUX_ERROR,e,t)})}_onRecommendSeekpoint(e){Promise.resolve().then(()=>{this._emitter.emit(he.RECOMMEND_SEEKPOINT,e)})}_onLoggingConfigChanged(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})}_onWorkerMessage(e){let t=e.data,i=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case he.INIT_SEGMENT:case he.MEDIA_SEGMENT:this._emitter.emit(t.msg,i.type,i.data);break;case he.LOADING_COMPLETE:case he.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case he.MEDIA_INFO:Object.setPrototypeOf(i,G.prototype),this._emitter.emit(t.msg,i);break;case he.STATISTICS_INFO:this._emitter.emit(t.msg,i);break;case he.IO_ERROR:case he.DEMUX_ERROR:this._emitter.emit(t.msg,i.type,i.info);break;case he.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,i);break;case"logcat_callback":y.emitter.emit("log",i.type,i.logcat)}}};var pe={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};var fe=class{constructor(e){this.TAG="MSEController",this._config=e,this._emitter=new m.a,this._config.isLive&&void 0==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new ae}destroy(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null}on(e,t){this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}attachMediaElement(e){if(this._mediaSource)throw new E("MediaSource has been attached to an HTMLMediaElement!");let t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL}detachMediaElement(){if(this._mediaSource){let e=this._mediaSource;for(let t in this._sourceBuffers){let i=this._pendingSegments[t];i.splice(0,i.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;let n=this._sourceBuffers[t];n&&("closed"!==e.readyState&&(e.removeSourceBuffer(n),n.removeEventListener("error",this.e.onSourceBufferError),n.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)),this._mimeTypes[t]=null,this._sourceBuffers[t]=null)}if("open"===e.readyState)try{e.endOfStream()}catch(e){y.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}appendInitSegment(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);let i=e,n=`${i.container}`;i.codec&&i.codec.length>0&&(n+=`;codecs=${i.codec}`);let r=!1;if(y.v(this.TAG,"Received Initialization Segment, mimeType: "+n),this._lastInitSegments[i.type]=i,n!==this._mimeTypes[i.type]){if(this._mimeTypes[i.type])y.v(this.TAG,`Notice: ${i.type} mimeType changed, origin: ${this._mimeTypes[i.type]}, target: ${n}`);else{r=!0;try{let e=this._sourceBuffers[i.type]=this._mediaSource.addSourceBuffer(n);e.addEventListener("error",this.e.onSourceBufferError),e.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return y.e(this.TAG,e.message),void this._emitter.emit(pe.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[i.type]=n}t||this._pendingSegments[i.type].push(i),r||this._sourceBuffers[i.type]&&!this._sourceBuffers[i.type].updating&&this._doAppendSegments(),A.safari&&"audio/mpeg"===i.container&&i.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=i.mediaDuration/1e3,this._updateMediaSourceDuration())}appendMediaSegment(e){let t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();let i=this._sourceBuffers[t.type];!i||i.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}seek(e){for(let e in this._sourceBuffers){if(!this._sourceBuffers[e])continue;let t=this._sourceBuffers[e];if("open"===this._mediaSource.readyState)try{t.abort()}catch(e){y.e(this.TAG,e.message)}this._idrList.clear();let i=this._pendingSegments[e];if(i.splice(0,i.length),"closed"!==this._mediaSource.readyState){for(let i=0;i<t.buffered.length;i++){let n=t.buffered.start(i),r=t.buffered.end(i);this._pendingRemoveRanges[e].push({start:n,end:r})}if(t.updating||this._doRemoveRanges(),A.safari){let i=this._lastInitSegments[e];i&&(this._pendingSegments[e].push(i),t.updating||this._doAppendSegments())}}}}endOfStream(){let e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}getNearestKeyframe(e){return this._idrList.getLastSyncPointBeforeDts(e)}_needCleanupSourceBuffer(){if(!this._config.autoCleanupSourceBuffer)return!1;let e=this._mediaElement.currentTime;for(let t in this._sourceBuffers){let i=this._sourceBuffers[t];if(i){let t=i.buffered;if(t.length>=1&&e-t.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1}_doCleanupSourceBuffer(){let e=this._mediaElement.currentTime;for(let t in this._sourceBuffers){let i=this._sourceBuffers[t];if(i){let n=i.buffered,r=!1;for(let i=0;i<n.length;i++){let s=n.start(i),a=n.end(i);if(s<=e&&e<a+3){if(e-s>=this._config.autoCleanupMaxBackwardDuration){r=!0;let i=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:s,end:i})}}else a<e&&(r=!0,this._pendingRemoveRanges[t].push({start:s,end:a}))}r&&!i.updating&&this._doRemoveRanges()}}}_updateMediaSourceDuration(){let e=this._sourceBuffers;if(0===this._mediaElement.readyState||"open"!==this._mediaSource.readyState)return;if(e.video&&e.video.updating||e.audio&&e.audio.updating)return;let t=this._mediaSource.duration,i=this._pendingMediaDuration;i>0&&(isNaN(t)||i>t)&&(y.v(this.TAG,`Update MediaSource duration from ${t} to ${i}`),this._mediaSource.duration=i),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}_doRemoveRanges(){for(let e in this._pendingRemoveRanges){if(!this._sourceBuffers[e]||this._sourceBuffers[e].updating)continue;let t=this._sourceBuffers[e],i=this._pendingRemoveRanges[e];for(;i.length&&!t.updating;){let e=i.shift();t.remove(e.start,e.end)}}}_doAppendSegments(){let e=this._pendingSegments;for(let t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){let i=e[t].shift();if(i.timestampOffset){let e=this._sourceBuffers[t].timestampOffset,n=i.timestampOffset/1e3;Math.abs(e-n)>.1&&(y.v(this.TAG,`Update MPEG audio timestampOffset from ${e} to ${n}`),this._sourceBuffers[t].timestampOffset=n),delete i.timestampOffset}if(!i.data||0===i.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(i.data),this._isBufferFull=!1,"video"===t&&i.hasOwnProperty("info")&&this._idrList.appendArray(i.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(i),22===e.code?(this._isBufferFull||this._emitter.emit(pe.BUFFER_FULL),this._isBufferFull=!0):(y.e(this.TAG,e.message),this._emitter.emit(pe.ERROR,{code:e.code,msg:e.message}))}}}_onSourceOpen(){if(y.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0){let e=this._pendingSourceBufferInit;for(;e.length;){let t=e.shift();this.appendInitSegment(t,!0)}}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(pe.SOURCE_OPEN)}_onSourceEnded(){y.v(this.TAG,"MediaSource onSourceEnded")}_onSourceClose(){y.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}_hasPendingSegments(){let e=this._pendingSegments;return e.video.length>0||e.audio.length>0}_hasPendingRemoveRanges(){let e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0}_onSourceBufferUpdateEnd(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(pe.UPDATE_END)}_onSourceBufferError(e){y.e(this.TAG,`SourceBuffer Error: ${e}`)}};const _e={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},me={NETWORK_EXCEPTION:L.EXCEPTION,NETWORK_STATUS_CODE_INVALID:L.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:L.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:L.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:Q.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:Q.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:Q.CODEC_UNSUPPORTED};var ge=class{constructor(e,t){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new m.a,this._config=U(),"object"==typeof t&&Object.assign(this._config,t),"flv"!==e.type.toLowerCase())throw new S("FlvPlayer requires an flv MediaDataSource input!");!0===e.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=e,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;let i=A.chrome&&(A.version.major<50||50===A.version.major&&A.version.build<2661);this._alwaysSeekKeyframe=!!(i||A.msedge||A.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}destroy(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}on(e,t){e===V.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then(()=>{this._emitter.emit(V.MEDIA_INFO,this.mediaInfo)}):e===V.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then(()=>{this._emitter.emit(V.STATISTICS_INFO,this.statisticsInfo)}),this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}attachMediaElement(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new fe(this._config),this._msectl.on(pe.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(pe.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(pe.SOURCE_OPEN,()=>{this._mseSourceOpened=!0,this._hasPendingLoad&&(this._hasPendingLoad=!1,this.load())}),this._msectl.on(pe.ERROR,e=>{this._emitter.emit(V.ERROR,_e.MEDIA_ERROR,me.MEDIA_MSE_ERROR,e)}),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}detachMediaElement(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}load(){if(!this._mediaElement)throw new E("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new E("FlvPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new ce(this._mediaDataSource,this._config),this._transmuxer.on(he.INIT_SEGMENT,(e,t)=>{this._msectl.appendInitSegment(t)}),this._transmuxer.on(he.MEDIA_SEGMENT,(e,t)=>{if(this._msectl.appendMediaSegment(t),this._config.lazyLoad&&!this._config.isLive){let e=this._mediaElement.currentTime;t.info.endDts>=1e3*(e+this._config.lazyLoadMaxDuration)&&null==this._progressChecker&&(y.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}),this._transmuxer.on(he.LOADING_COMPLETE,()=>{this._msectl.endOfStream(),this._emitter.emit(V.LOADING_COMPLETE)}),this._transmuxer.on(he.RECOVERED_EARLY_EOF,()=>{this._emitter.emit(V.RECOVERED_EARLY_EOF)}),this._transmuxer.on(he.IO_ERROR,(e,t)=>{this._emitter.emit(V.ERROR,_e.NETWORK_ERROR,e,t)}),this._transmuxer.on(he.DEMUX_ERROR,(e,t)=>{this._emitter.emit(V.ERROR,_e.MEDIA_ERROR,e,{code:-1,msg:t})}),this._transmuxer.on(he.MEDIA_INFO,e=>{this._mediaInfo=e,this._emitter.emit(V.MEDIA_INFO,Object.assign({},e))}),this._transmuxer.on(he.STATISTICS_INFO,e=>{this._statisticsInfo=this._fillStatisticsInfo(e),this._emitter.emit(V.STATISTICS_INFO,Object.assign({},this._statisticsInfo))}),this._transmuxer.on(he.RECOMMEND_SEEKPOINT,e=>{this._mediaElement&&!this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e/1e3)}),this._transmuxer.open()))}unload(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}play(){return this._mediaElement.play()}pause(){this._mediaElement.pause()}get type(){return this._type}get buffered(){return this._mediaElement.buffered}get duration(){return this._mediaElement.duration}get volume(){return this._mediaElement.volume}set volume(e){this._mediaElement.volume=e}get muted(){return this._mediaElement.muted}set muted(e){this._mediaElement.muted=e}get currentTime(){return this._mediaElement?this._mediaElement.currentTime:0}set currentTime(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e}get mediaInfo(){return Object.assign({},this._mediaInfo)}get statisticsInfo(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}_fillStatisticsInfo(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;let t=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){let e=this._mediaElement.getVideoPlaybackQuality();i=e.totalVideoFrames,n=e.droppedVideoFrames}else void 0!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e}_onmseUpdateEnd(){if(!this._config.lazyLoad||this._config.isLive)return;let e=this._mediaElement.buffered,t=this._mediaElement.currentTime,i=0,n=0;for(let r=0;r<e.length;r++){let s=e.start(r),a=e.end(r);if(s<=t&&t<a){i=s,n=a;break}}n>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(y.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}_onmseBufferFull(){y.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()}_suspendTransmuxer(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))}_checkProgressAndResume(){let e=this._mediaElement.currentTime,t=this._mediaElement.buffered,i=!1;for(let n=0;n<t.length;n++){let r=t.start(n),s=t.end(n);if(e>=r&&e<s){e>=s-this._config.lazyLoadRecoverDuration&&(i=!0);break}}i&&(window.clearInterval(this._progressChecker),this._progressChecker=null,i&&(y.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))}_isTimepointBuffered(e){let t=this._mediaElement.buffered;for(let i=0;i<t.length;i++){let n=t.start(i),r=t.end(i);if(e>=n&&e<r)return!0}return!1}_internalSeek(e){let t=this._isTimepointBuffered(e),i=!1,n=0;if(e<1&&this._mediaElement.buffered.length>0){let t=this._mediaElement.buffered.start(0);(t<1&&e<t||A.safari)&&(i=!0,n=A.safari?.1:t)}if(i)this._requestSetTime=!0,this._mediaElement.currentTime=n;else if(t){if(this._alwaysSeekKeyframe){let t=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=t?t.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)}_checkAndApplyUnbufferedSeekpoint(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){let e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}_checkAndResumeStuckPlayback(e){let t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){let e=t.buffered;e.length>0&&t.currentTime<e.start(0)&&(y.w(this.TAG,`Playback seems stuck at ${t.currentTime}, seek to ${e.start(0)}`),this._requestSetTime=!0,this._mediaElement.currentTime=e.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)}_onvLoadedMetadata(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}_onvSeeking(e){let t=this._mediaElement.currentTime,i=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&i.length>0){let e=i.start(0);if(e<1&&t<e||A.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=A.safari?.1:e)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){let e=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=e&&(this._requestSetTime=!0,this._mediaElement.currentTime=e.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}}_onvCanPlay(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)}_onvStalled(e){this._checkAndResumeStuckPlayback(!0)}_onvProgress(e){this._checkAndResumeStuckPlayback()}};var ye=class{constructor(e,t){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new m.a,this._config=U(),"object"==typeof t&&Object.assign(this._config,t),"flv"===e.type.toLowerCase())throw new S("NativePlayer does't support flv MediaDataSource input!");if(e.hasOwnProperty("segments"))throw new S(`NativePlayer(${e.type}) doesn't support multipart playback!`);this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}destroy(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}on(e,t){e===V.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(()=>{this._emitter.emit(V.MEDIA_INFO,this.mediaInfo)}):e===V.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(()=>{this._emitter.emit(V.STATISTICS_INFO,this.statisticsInfo)}),this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}attachMediaElement(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}detachMediaElement(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}load(){if(!this._mediaElement)throw new E("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}unload(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}play(){return this._mediaElement.play()}pause(){this._mediaElement.pause()}get type(){return this._type}get buffered(){return this._mediaElement.buffered}get duration(){return this._mediaElement.duration}get volume(){return this._mediaElement.volume}set volume(e){this._mediaElement.volume=e}get muted(){return this._mediaElement.muted}set muted(e){this._mediaElement.muted=e}get currentTime(){return this._mediaElement?this._mediaElement.currentTime:0}set currentTime(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e}get mediaInfo(){let e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e}get statisticsInfo(){let e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;let t=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){let e=this._mediaElement.getVideoPlaybackQuality();i=e.totalVideoFrames,n=e.droppedVideoFrames}else void 0!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e}_onvLoadedMetadata(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(V.MEDIA_INFO,this.mediaInfo)}_reportStatisticsInfo(){this._emitter.emit(V.STATISTICS_INFO,this.statisticsInfo)}};f.install();let ve={createPlayer:function(e,t){let i=e;if(null==i||"object"!=typeof i)throw new S("MediaDataSource must be an javascript object!");if(!i.hasOwnProperty("type"))throw new S("MediaDataSource must has type field to indicate video file type!");switch(i.type){case"flv":return new ge(i,t);default:return new ye(i,t)}},isSupported:function(){return F.supportMSEH264Playback()},getFeatureList:function(){return F.getFeatureList()}};ve.Events=V,ve.ErrorTypes=_e,ve.ErrorDetails=me,ve.FlvPlayer=ge,ve.NativePlayer=ye,ve.LoggingControl=H,Object.defineProperty(ve,"version",{enumerable:!0,get:function(){return"__VERSION__"}});var be=ve;var Ee=class extends u{constructor(){super(),this.initHtmlDisplay('<video class="ya-h5-video"></video>'),d.a.VideoLayer.append(this),this.resReady=!0}play(){this.display[0].play()}pause(){this.display[0].pause()}_dealVo_(e){this.destorystatus||("url"==e.type?this.playUrl(e.value):"play"==e.type?this.display[0].play():"pause"==e.type?this.display[0].pause():"volume"==e.type&&(this.display[0].volume=Math.min(1,Math.max(0,e.value/100))))}playUrl(e){null==this.flvPlayer&&(this.flvPlayer=be.createPlayer({type:"flv",url:e}),this.flvPlayer.on("media_info",this._mediaInfoFun.bind(this)),this.flvPlayer.attachMediaElement(this.display[0]),this.flvPlayer.load(),this.flvPlayer.play())}_mediaInfoFun(e){this.emit(u.VideoPlayState)}};i(69);var Se=class extends n.a{constructor(){super(),this.initDivDisplay("videoload"),d.a.LoadLayer.append(this)}};i(66);class xe extends r.a{constructor(){super(),this._videoLoad=null,this._video=null,this._conf=null}_addEvent_(){this._video.ons(u.VideoLoadState,u.VideoPlayState,u.VideoErrorState,this.eventFun.bind(this))}eventFun(e){switch(e.type){case u.VideoLoadState:this.showLoad();break;case u.VideoPlayState:this.hideLoad();break;case u.VideoErrorState:this.videoError()}}_dealVo_(e){switch(e.type){case"init":this._init(),this.volume(e.volume);break;case"volume":this.volume(e.value)}}_init(){this._initVideo(),this._initVideoLogo(),this._addEvent_()}videoError(){this.emit(xe.VideoErrorState)}showLoad(){this._videoLoad&&this._videoLoad.show()}hideLoad(){this._videoLoad&&this._videoLoad.hide()}_initVideo(){be.isSupported()?this._video=new c:this._video=new Ee}_initVideoLogo(){this._videoLoad=new Se,this._videoLoad.setVo({type:"init",init:this._conf})}volume(e){this._video.setCacheVo({type:"volume",value:e})}playUrl(e){this._video.setCacheVo({type:"url",value:e})}play(){this._video.setCacheVo({type:"play",value:1})}pause(){this._video.setCacheVo({type:"pause",value:1})}volume(e){this._video.setCacheVo({type:"volume",value:e})}}xe.VideoErrorState="VideoView.VideoErrorState";var we=xe,Le=i(9);var Te=class extends r.a{constructor(){super()}init(){}},ke=i(10),Ae={PlayByUi:"ModelEvent.PlayByUi",PauseByUi:"ModelEvent.PauseByUi",FullScreenByUi:"ModelEvent.FullScreenByUi",NormalScreenByUi:"ModelEvent.NormalScreenByUi",OpenDanmakuByUi:"ModelEvent.OpenDanmakuByUi",CloseDanmakuByUi:"ModelEvent.CloseDanmakuByUi",ChangeVolumeByUi:"ModelEvent.ChangeVolumeByUi"},Ce=Ae;var Re=new class extends Te{constructor(){super(),this.platform="longzhu",this._giftVisible=null,this._volume=null,this._bulletAlpha=null,this._bulletType=null,this._bulletVisible=null,this._preNoLogin=null,this._controlbarBtnConfig=[]}init(){this.addEvent(),this.initBarStorage(),this.initControlbarBtn()}addEvent(){}initControlbarBtn(){var e={id:"music",default:this.volume},t={id:"danmaku",default:this.bulletVisible};this._controlbarBtnConfig.push({id:"play",default:0},{id:"screen",default:0},e,{id:"bullet",default:0},{id:"sharpness",default:0},{id:"animation",default:0},{id:"rotate",default:0},{id:"refresh",default:0},t,{id:"set",default:0})}setPlayByUi(){this.emit(Ce.PlayByUi)}setPauseByUi(){this.emit(Ce.PauseByUi)}setFullScreenByUi(){this.emit(Ce.FullScreenByUi)}setNormalScreenByUi(){this.emit(Ce.NormalScreenByUi)}setOpenDanmakuByUi(){this.bulletVisible=0,this.emit(Ce.OpenDanmakuByUi)}setCloseDanmakuByUi(){this.bulletVisible=1,this.emit(Ce.CloseDanmakuByUi)}setVolumeByUi(e){this.volume=e,this.emit(Ce.ChangeVolumeByUi)}initBarStorage(){this.localStorageHas("_giftVisible")?this._giftVisible=this.getLocalStorage("_giftVisible"):this.giftVisible=1,this.localStorageHas("_volume")?this._volume=this.getLocalStorage("_volume"):this.volume=40,this.localStorageHas("_bulletAlpha")?this._bulletAlpha=this.getLocalStorage("_bulletAlpha"):this.bulletAlpha=100,this.localStorageHas("_bulletType")?this._bulletType=this.getLocalStorage("_bulletType"):this.bulletType=0,this.localStorageHas("_bulletVisible")?this._bulletVisible=this.getLocalStorage("_bulletVisible"):this.bulletVisible=1,this.localStorageHas("_preNoLogin")?this._preNoLogin=this.getLocalStorage("_preNoLogin"):this.preNoLogin=1}localStorageHas(e){return window.localStorage.hasOwnProperty(e)}setLocalStorage(e,t){window.localStorage[e]=t}getLocalStorage(e){return window.localStorage[e]}get controlbarBtnConfig(){return this._controlbarBtnConfig}set giftVisible(e){this.setLocalStorage("_giftVisible",arguments[0]),this._giftVisible=arguments[0]}get giftVisible(){return this._giftVisible}set volume(e){this.setLocalStorage("_volume",arguments[0]),this._volume=arguments[0]}get volume(){return this._volume}set bulletAlpha(e){this.setLocalStorage("_bulletAlpha",arguments[0]),this._bulletAlpha=arguments[0]}get bulletAlpha(){return this._bulletAlpha}set bulletType(e){this.setLocalStorage("_bulletType",arguments[0]),this._bulletType=arguments[0]}get bulletType(){return this._bulletType}set bulletVisible(e){this.setLocalStorage("_bulletVisible",arguments[0]),this._bulletVisible=arguments[0]}get bulletVisible(){return this._bulletVisible}set preNoLogin(e){this.setLocalStorage("_preNoLogin",arguments[0]),this._preNoLogin=arguments[0]}get preNoLogin(){return this._preNoLogin}};var De=new class extends l{constructor(){super(),this._videoView=null,this._model=Re}_addEvent_(){s.ons(o.InnerInit,o.DataPause,o.DataPlay,this.eventFun.bind(this)),Re.ons(Ce.PlayByUi,Ce.PauseByUi,Ce.ChangeVolumeByUi,this._eventFun.bind(this))}init(){this._addEvent_()}_eventFun(e){switch(e.type){case Ce.PlayByUi:this._videoPlay();break;case Ce.PauseByUi:this._videoPause();break;case Ce.ChangeVolumeByUi:this._changeVolume()}}eventFun(e){switch(e.type){case o.InnerInit:this._initVideoView();break;case o.DataPlay:this._videoPlay();break;case o.DataPause:this._videoPause();break;default:Le.a.log("VideoController No match "+e.type)}}_videoPause(){this._videoView&&this._videoView.pause()}_videoPlay(){this._videoView&&this._videoView.play()}_changeVolume(){this._videoView&&this._videoView.setVo({type:"volume",value:this._model.volume})}_initVideoView(){null==this._videoView&&(this._videoView=new we,this._videoView.setVo({type:"init",volume:this._model.volume}),this._videoView.playUrl("http://180.153.100.182/flvtx.plu.cn/onlive/ffe20d67d3684b678054b1e48cf6739c.flv?txSecret=626678fa70d7721e26eaa0d2277a22f3&txTime=5aaa77e3&dispatch_from=ztc10.236.21.177&utime=1521120678483"))}};i(64);var Ie=class extends n.a{constructor(){super(),this._id_=null,this._status_=0,this._tips_=null,this._type_=0}_addEvent_(){this.$on("click",this._eventFun.bind(this)),this.$on("mouseenter",this._tips_Event.bind(this)),this.$on("mouseleave",this._tips_Event.bind(this))}_tips_Event(e){if(this._tips_)switch(e.type){case"mouseenter":this._showTips(e);break;case"mouseleave":this._hideTips()}}_showTips(e){var t=e.currentTarget.offsetLeft+this.cacheWidth/2;this._tips_&&this._tips_.setShowPosition(t,-16)}_hideTips(){this._tips_&&this._tips_.hide()}_eventFun(e){"click"==e.type&&(this._status_=0==this._status_?1:0,this._updateState_(),this._clickCall_())}_clickCall_(){}_updateState_(){this._updateStateClass_()}_updateStateClass_(){0==this._type_&&(0==this._status_?this.removeClass(this._id_+"1"):this.addClass(this._id_+"1"))}_removeEvent_(){this.display.off("click"),this.display.off("mouseenter"),this.display.off("mouseleave")}destory(){super.destory(),this._tips_&&(this._tips_.destory(),this._tips_=null)}},Be=i(12);i(62);class Oe extends Be.a{constructor(){super(),this.initHtmlDisplay('<div class="ya-describe-tips"></div>'),this._describe=null}_dealVo_(e){switch(e.type){case Oe.Type_Describe:this._describe=e.value,this._updateDescribe()}}_updateDescribe(){this._describe&&this.$text(this._describe)}}Oe.Type_Describe="Type_Describe";var Me=Oe,Ne=i(8),Ue=i(7);i(58);class Pe extends r.a{constructor(){super(),this._arr=[],this._cur=null}add(){for(var e in arguments)this._arr.push(arguments[e]),arguments[e].register(this)}remove(){for(var e in arguments){var t=this._arr.indexOf(arguments[e]);t>0&&(this._arr.splice(t,1),arguments[e].unregister(this))}}setSelectedByIndex(e){var t=this._arr[e];t&&this.setSelected(t)}setSelected(e){if(this._cur){if(this._cur==e)return;this._cur.setSelectedState(0)}this._cur=e,this._cur.setSelectedState(1),this.emit({type:Pe.Chang,value:this._cur})}}Pe.Chang="SelecteGroup.Chang";i(56);class Fe extends Ie{constructor(e){super(),this._id_="ya-play-btn",this.initHtmlDisplay('<a class="'+this._id_+'"></a>'),this._tips_=new Me,e.append(this,this._tips_),this._addEvent_()}_dealVo_(e){switch(e.type){case"init":this._status_=e.value.default,this._updateView()}}_updateView(){this._updateState_()}_updateState_(){super._updateState_(),0==this._status_?this._tips_.setVo({type:Me.Type_Describe,value:"播放"}):this._tips_.setVo({type:Me.Type_Describe,value:"暂停"})}_clickCall_(){0==this._status_?this.emit(Fe.Play):this.emit(Fe.Pause)}}Fe.Play="PlayButton.Play",Fe.Pause="PlayButton.Pause";var Ve=Fe;i(50);class je extends Ie{constructor(e){super(),this._id_="ya-screen-btn",this.initHtmlDisplay('<a class="'+this._id_+'"></a>'),this._tips_=new Me,e.append(this,this._tips_),this._addEvent_()}_dealVo_(e){switch(e.type){case"init":this._status_=e.value.default,this._updateView()}}_updateView(){this._updateState_()}_updateState_(){super._updateState_(),0==this._status_?this._tips_.setVo({type:Me.Type_Describe,value:"全屏"}):this._tips_.setVo({type:Me.Type_Describe,value:"退出"})}_clickCall_(){0==this._status_?this.emit(je.Normal):this.emit(je.Full)}}je.Normal="ScreenButton.Normal",je.Full="ScreenButton.Full";var He=je;i(44);class Ge extends Ie{constructor(e){super(),this._id_="ya-rotate-btn",this.initHtmlDisplay('<a class="'+this._id_+'"></a>'),this._tips_=new Me,e.append(this,this._tips_),this._addEvent_()}_dealVo_(e){switch(e.type){case"init":this._status_=e.value.default,this._updateView()}}_updateView(){this._updateState_()}_updateState_(){super._updateState_(),this._status_,this._tips_.setVo({type:Me.Type_Describe,value:"旋转视频"})}_clickCall_(){this.emit(Ge.Change)}}Ge.Change="RotateButton.Change";var qe=Ge;i(38);class ze extends Ie{constructor(e){super(),this._type_=1,this._id_="ya-refresh-btn",this.initHtmlDisplay('<a class="'+this._id_+'"></a>'),this._tips_=new Me,this._tips_.setVo({type:Me.Type_Describe,value:"旋转视频"}),e.append(this,this._tips_),this._addEvent_()}_dealVo_(e){switch(e.type){case"init":this._status_=e.value.default,this._updateView()}}_updateView(){this._updateState_()}_updateState_(){super._updateState_()}_clickCall_(){this.emit(ze.Change)}}ze.Change="RefreshButton.Change";var $e=ze;i(34);class We extends Ie{constructor(e){super(),this._id_="ya-danmaku-btn",this.initHtmlDisplay('<a class="'+this._id_+'"></a>'),this._tips_=new Me,e.append(this,this._tips_),this._addEvent_()}_dealVo_(e){switch(e.type){case"init":this._status_=e.value.default,this._updateView()}}_updateView(){this._updateState_()}_updateState_(){super._updateState_(),0==this._status_?this._tips_.setVo({type:Me.Type_Describe,value:"关闭弹幕"}):this._tips_.setVo({type:Me.Type_Describe,value:"打开弹幕"})}_clickCall_(){0==this._status_?this.emit(We.Open):this.emit(We.Close)}}We.Open="DanmakuButton.Open",We.Close="DanmakuButton.Close";var Ke=We;i(30);class Xe extends Ie{constructor(e){super(),this._id_="ya-music-btn",this.initHtmlDisplay('<a class="'+this._id_+'"></a>'),this._tips_=new Ne.a,this._volume=0,this._cacheVolume=20,e.append(this,this._tips_),this._addEvent_()}_addEvent_(){super._addEvent_(),this._tips_&&this._tips_.on(Ne.a.Value_Change,this._tipsEventFun.bind(this))}_tipsEventFun(e){if(0==e.value)var t=1;else t=0;this._status_!=t&&(this._status_=t,this._updateView()),this._volumeEmit(e.value)}_dealVo_(e){switch(e.type){case"init":this._status_=0==e.value.default?1:0,this._tips_.setVo({type:"init",value:e.value.default}),this._volume=e.value.default,this._updateView()}}_updateView(){this._updateState_()}_clickCall_(){0==this._status_?(this._tips_.setVo({type:"change",value:this._cacheVolume}),this._volumeEmit(this._cacheVolume)):(this._cacheVolume=this._volume,this._tips_.setVo({type:"change",value:0}),this._volumeEmit(0))}_volumeEmit(e){this._volume=e,this.emit({type:Xe.Change,value:this._volume})}}Xe.Change="MusicButton.Change";var Ye=Xe;i(24),i(20);var Je=class extends Ue.a{constructor(){super(),this.initHtmlDisplay("<div class='ya-set-tips'><div class='ya-set-continer1'><div class='ya-set-title1'>屏蔽特效</div><div class='ya-set-full'>全屏</div><div class='ya-set-car'>座驾</div></div><div class='ya-set-line'></div><div class='ya-set-continer2'><div class='ya-set-title3'>弹幕位置</div><div class='ya-set-location0'></div><div class='ya-set-location1'></div><div class='ya-set-location2'></div></div><div class='ya-set-continer3'><div class='ya-set-title3'>弹幕密度</div><div class='ya-set-density0'>不限</div><div class='ya-set-density1'>海量</div><div class='ya-set-density2'>一般</div></div><div class='ya-set-continer4'><div class='ya-set-title4'>透明度</div><div class='ya-set-alpha0'>无</div><div class='ya-set-alpha1'>低</div><div class='ya-set-alpha2'>中</div><div class='ya-set-alpha2'>高</div></div></div>"),this._addEvent_()}};class Qe extends Ie{constructor(e){super(),this._id_="ya-set-btn",this.initHtmlDisplay('<a class="'+this._id_+'"></a>'),this._tips_=new Je,e.append(this,this._tips_),this._addEvent_()}_dealVo_(e){switch(e.type){case"init":this._status_=e.value.default,this._updateView()}}_updateView(){this._updateState_()}_updateState_(){super._updateState_()}}Qe.Change="SetButton.Change";var Ze=Qe;var et=class extends n.a{constructor(){super(),this.initHtmlDisplay('<div class="ya-controlbar-view"></div>'),this._playBtn=null,this._screenBtn=null,this._refreshBtn=null,this._rotateBtn=null,this._danmakuBtn=null,this._musicBtn=null,this._setBtn=null,this._model=Re,d.a.BarLayer.append(this)}_dealVo_(e){if("init"==e.type){for(var t=e.list,i=0;i<t.length;i++){var n=t[i];"play"==n.id?(this._playBtn=new Ve(this),this._playBtn.setVo({type:"init",value:n})):"screen"==n.id?(this._screenBtn=new He(this),this._screenBtn.setVo({type:"init",value:n})):"rotate"==n.id?(this._rotateBtn=new qe(this),this._rotateBtn.setVo({type:"init",value:n})):"refresh"==n.id?(this._refreshBtn=new $e(this),this._refreshBtn.setVo({type:"init",value:n})):"danmaku"==n.id?(this._danmakuBtn=new Ke(this),this._danmakuBtn.setVo({type:"init",value:n})):"music"==n.id?(this._musicBtn=new Ye(this),this._musicBtn.setVo({type:"init",value:n})):"set"==n.id&&(this._setBtn=new Ze(this),this._setBtn.setVo({type:"init",value:n}))}this._addEvent_()}}_addEvent_(){this._playBtn&&this._playBtn.ons(Ve.Play,Ve.Pause,this._eventFun.bind(this)),this._screenBtn&&this._screenBtn.ons(He.Normal,He.Full,this._eventFun.bind(this)),this._refreshBtn&&this._refreshBtn.ons($e.Change,this._eventFun.bind(this)),this._rotateBtn&&this._rotateBtn.ons(qe.Change,this._eventFun.bind(this)),this._danmakuBtn&&this._danmakuBtn.ons(Ke.Open,Ke.Close,this._eventFun.bind(this)),this._musicBtn&&this._musicBtn.ons(Ye.Change,this._eventFun.bind(this))}_eventFun(e){switch(console.log(e.type),e.type){case Ve.Play:this._model.setPlayByUi();break;case Ve.Pause:this._model.setPauseByUi();break;case He.Normal:this._model.setNormalScreenByUi();break;case He.Full:this._model.setFullScreenByUi();break;case $e.Change:break;case Ke.Open:this._model.setOpenDanmakuByUi();break;case Ke.Close:this._model.setCloseDanmakuByUi();break;case Ye.Change:this._model.setVolumeByUi(e.value)}}eventFun(e){if(e.type==Ie.ButtonClick){var t=e.vo;switch(t.id){case"play":0==t.value?s.emit(o.UiPlay):s.emit(o.UiPause);break;case"screen":1==t.value?s.emit(o.UiFullScreen):s.emit(o.UiExitFullScreen)}}}};var tt=new class extends l{constructor(){super()}init(){this._addEvent_()}_addEvent_(){s.ons(o.InnerInit,this.eventFun.bind(this))}eventFun(e){switch(e.type){case o.InnerInit:this._initControlbarView();break;default:Debug.log("BarController No match "+e.type)}}_initControlbarView(){null==this._controlbarView&&(this._controlbarView=new et),this._controlbarView.setVo({type:"init",list:Re.controlbarBtnConfig}),this._controlbarView.on("",this.controlbarViewEvent)}};var it=new class extends Te{constructor(){super()}};var nt=class extends ke.a{constructor(){this._pool=[],this._isDestory=!1}destory(){this._isDestory=!0}create(){return this._pool.length>0?this._pool.pop():new rt}recycle(e){this._pool.push(e)}};var rt=class extends n.a{constructor(e){this._isDestroy=!1,this._canPush=!1,this._isInit=!1,this.initHtmlDisplay("<div></div>")}play(e){this._isDestroy=!1,this._canPush=!1,this._isInit=!1,this._vo=e,this._speed=e.speed?e.speed:2*Math.random()+2.5,this._parent=e.parent,this._display[0].className="YaDanmakuBase",this._display[0].style="",e.class&&this._display.addClass(e.class),e.style&&this._display.css(e.style),this._parent.append(this._display),this._display.append(e.msg),this._display.css("position","absolute"),this._display.css("top",e.top+"px"),this._display.css("transform","translateX("+this._parent.width()+"px");var t=parseInt((this._parent.width()+this._display.width())/this._speed/24);this._display.css("transition","transform "+t+"s linear"),this._display.one("transitionend",this.destroy),setTimeout(function(){this._isInit=!0,this._display.css("transform","translateX("+-this._display.width()+"px)")},1)}destroy(){this._isDestroy=!0,this._display.empty(),this._display.removeAttr("class"),this._display[0].style="",nt.recycle(this)}getSpeed(){return this._speed}canPush(){return 0!=this._isInit&&(!(!this._canPush&&!this._isDestroy)||this._display.position().left<this._parent.width()-this._display.width()-20)}};i(18);var st=class extends n.a{constructor(){super(),this._isInit=!1,this._lineHeight=40,this._voList=[],this._itemList=[],this._layerMax=1,this._startIndex=0,this._endIndex=0,this._maxNum=-1,this._startRatio=0,this._endRatio=1,this._setInterval=-1,this.initDivDisplay("danmakuview"),d.a.DanmakuLayer.append(this)}_dealVo_(){}init(e){this._vo=e,this._lineHeight=e.line_height?e.line_height:40,this._layerIndex=e.max_layer?Math.max(0,e.max_layer-1):0,this._maxNum=e.max_num?e.max_num:-1,this._isInit=!0,setInterval(function(){this.update()},1e3/24)}play(e){(-1==this._maxNum||this._voList.length<this._maxNum)&&this._voList.push(e)}destory(){clearInterval(this._setInterval)}setRatio(e,t){this._startRatio=e,this._endRatio=t}update(){if(0!=this._isInit&&0!=this._voList.length){var e=parseInt(this._display.height()/this._lineHeight-1);this._startIndex=parseInt(e*this._startRatio),this._endIndex=parseInt(e*this._endRatio),this.updateLayer(0)}}updateLayer(e){if(0!=this._voList.length&&!(e>this._layerIndex)){var t,i,n;void 0==this._itemList[e]&&(this._itemList[e]=[]);for(var r=this._itemList[e],s=!0,a=this._startIndex;a<this._endIndex;a++){if(0==this._voList.length)return;null==r[a]?((n=this._voList.shift()).parent=this._display,n.top=this._lineHeight*a+2,(i=nt.create()).play(n),r[a]=i,s=!1):(t=r[a]).canPush()&&((n=this._voList.shift()).parent=this._display,n.top=this._lineHeight*a+2,n.speed=t.getSpeed(),(i=nt.create()).play(n),r[a]=i,s=!1)}s&&e<this._layerIndex&&this.updateLayer(e+1)}}};var at=new class extends l{constructor(){super(),this._danmakuView=null}_addEvent_(){s.ons(o.InnerInit,this.eventFun.bind(this))}init(){this._addEvent_()}eventFun(e){switch(e.type){case o.InnerInit:this._initDanmakuView();break;default:Debug.log("DanmakuController No match "+e.type)}}_initDanmakuView(){null==this._danmakuView&&(this._danmakuView=new st),setInterval(this.addVo.bind(),1e3/24)}addVo(){}};var ot=new class extends l{constructor(){super()}init(){Re.init(),it.init(),De.init(),tt.init(),at.init()}};window.Player=class extends n.a{constructor(e){super(),this._vo=e,this._model=Re,this.initDivDisplay("player"),this.appendToById(this._vo.container),this.init(),this._addEvent_()}init(){d.a.init(this),ot.init(),s.emit(o.InnerInit)}_addEvent_(){this._model.ons(Ce.FullScreenByUi,Ce.NormalScreenByUi,this._evetFun.bind(this))}_evetFun(e){switch(e.type){case Ce.NormalScreenByUi:this._exitFullScreen();break;case Ce.FullScreenByUi:this._fullScreen()}}play(){s.emit(o.DataPlay)}pause(){s.emit(o.DataPause)}fullScreen(){this._fullScreen()&&s.emit(o.DataFullScreen)}exitFullScreen(){this._exitFullScreen()&&s.emit(o.DataExitFullScreen)}_fullScreen(){var e=this.display[0];return e.webkitRequestFullScreen?(e.webkitRequestFullScreen(),!0):e.mozRequestFullScreen?(e.mozRequestFullScreen(),!0):!!e.requestFullScreen&&(e.requestFullscreen(),!0)}_exitFullScreen(){return document.exitFullscreen?(document.exitFullscreen(),!0):document.mozCancelFullScreen?(document.mozCancelFullScreen(),!0):!!document.webkitExitFullscreen&&(document.webkitExitFullscreen(),!0)}}},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,"",""])},function(e,t,i){var n=i(17);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".ya-set-tips {\n  width: 286;\n  height: 238px;\n  background-color: rgba(0, 0, 0, 0.8);\n  position: absolute;\n  color: #999999;\n  display: none;\n  border: 1px solid #ff0000;\n  border-radius: 6px;\n}\n.ya-set-continer1 {\n  height: 26px;\n  line-height: 26px;\n  margin-top: 18px;\n}\n.ya-set-title1 {\n  color: #999999;\n  float: left;\n  margin-left: 17px;\n}\n\n.ya-set-full,\n.ya-set-car {\n  float: left;\n  cursor: pointer;\n  margin-left: 17px;\n  border: 2px solid #2f2f2f;\n  font-size: 12px;\n  width: 46px;\n  height: 22px;\n  border-radius: 15px;\n  line-height: 22px;\n  text-align: center;\n}\n.ya-set-car {\n  margin-left: 10px;\n}\n.ya-set-line {\n  height: 1px;\n  width: 100%;\n  border-top: 1px solid #2f2f2f;\n  margin-top: 18px;\n}\n\n.ya-set-continer3 {\n  height: 26px;\n  line-height: 26px;\n  margin-top: 18px;\n}\n.ya-set-title3 {\n  color: #999999;\n  float: left;\n  margin-left: 17px;\n}\n.ya-set-density0,\n.ya-set-density1,\n.ya-set-density2 {\n  float: left;\n  cursor: pointer;\n  margin-left: 11px;\n  border: 2px solid #2f2f2f;\n  font-size: 12px;\n  width: 46px;\n  height: 22px;\n  border-radius: 15px;\n  line-height: 22px;\n  text-align: center;\n}\n.ya-set-density0 {\n  margin-left: 17px;\n}\n\n.ya-set-continer4 {\n  height: 30px;\n  line-height: 30px;\n  margin-top: 18px;\n}\n\n.ya-set-title4 {\n  color: #999999;\n  float: left;\n  margin-left: 17px;\n  letter-spacing: 8px;\n}\n\n.ya-set-alpha0,\n.ya-set-alpha1,\n.ya-set-alpha2,\n.ya-set-alpha3 {\n  width: 26px;\n  height: 26px;\n  line-height: 26px;\n  text-align: center;\n  border-radius: 50%;\n  font-size: 12px;\n  border: 2px solid #2f2f2f;\n  float: left;\n  cursor: pointer;\n  margin-left: 11px;\n}\n",""])},function(e,t,i){var n=i(19);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){e.exports=i.p+"src/res/button/sethover.png"},function(e,t,i){e.exports=i.p+"src/res/button/set.png"},function(e,t,i){var n=i(6);(e.exports=i(2)(!1)).push([e.i,".ya-set-btn {\n  float: right;\n  width: 27px;\n  height: 22px;\n  cursor: pointer;\n  background-repeat: no-repeat;\n  background-image: url("+n(i(22))+");\n  margin-right: 25px;\n  margin-top: 11px;\n}\n.ya-set-btn:hover {\n  background-image: url("+n(i(21))+");\n}",""])},function(e,t,i){var n=i(23);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){e.exports=i.p+"src/res/button/music1hover.png"},function(e,t,i){e.exports=i.p+"src/res/button/music1.png"},function(e,t,i){e.exports=i.p+"src/res/button/musichover.png"},function(e,t,i){e.exports=i.p+"src/res/button/music.png"},function(e,t,i){var n=i(6);(e.exports=i(2)(!1)).push([e.i,".ya-music-btn {\n  float: right;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  background-repeat: no-repeat;\n  background-image: url("+n(i(28))+");\n  margin-right: 25px;\n  margin-top: 11px;\n}\n.ya-music-btn:hover {\n  background-image: url("+n(i(27))+");\n}\n.ya-music-btn1 {\n  background-image: url("+n(i(26))+");\n}\n.ya-music-btn1:hover {\n  background-image: url("+n(i(25))+");\n}\n",""])},function(e,t,i){var n=i(29);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){e.exports=i.p+"src/res/button/danmaku1.png"},function(e,t,i){e.exports=i.p+"src/res/button/danmaku.png"},function(e,t,i){var n=i(6);(e.exports=i(2)(!1)).push([e.i,".ya-danmaku-btn {\n  float: right;\n  width: 54px;\n  height: 20px;\n  cursor: pointer;\n  background-repeat: no-repeat;\n  background-image: url("+n(i(32))+");\n  margin-right: 25px;\n  margin-top: 11px;\n}\n\n.ya-danmaku-btn1 {\n  background-repeat: no-repeat;\n  background-image: url("+n(i(31))+");\n}\n",""])},function(e,t,i){var n=i(33);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){e.exports=i.p+"src/res/button/refreshhover.png"},function(e,t,i){e.exports=i.p+"src/res/button/refresh.png"},function(e,t,i){var n=i(6);(e.exports=i(2)(!1)).push([e.i,".ya-refresh-btn {\n  float: left;\n  width: 18px;\n  height: 16px;\n  cursor: pointer;\n  background-image: url("+n(i(36))+");\n  margin-left: 25px;\n  margin-top: 12px;\n}\n.ya-refresh-btn:hover {\n  background-image: url("+n(i(35))+");\n}\n",""])},function(e,t,i){var n=i(37);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){e.exports=i.p+"src/res/button/rotate1hover.png"},function(e,t,i){e.exports=i.p+"src/res/button/rotate1.png"},function(e,t,i){e.exports=i.p+"src/res/button/rotatehover.png"},function(e,t,i){e.exports=i.p+"src/res/button/rotate.png"},function(e,t,i){var n=i(6);(e.exports=i(2)(!1)).push([e.i,".ya-rotate-btn {\n  float: right;\n  width: 22px;\n  height: 20px;\n  cursor: pointer;\n  background-image: url("+n(i(42))+");\n  margin-right: 25px;\n  margin-top: 11px;\n}\n.ya-rotate-btn:hover {\n  width: 22px;\n  height: 20px;\n  background-image: url("+n(i(41))+");\n}\n.ya-rotate-btn1 {\n  width: 22px;\n  height: 20px;\n  background-image: url("+n(i(40))+");\n}\n.ya-rotate-btn1:hover {\n  width: 22px;\n  height: 20px;\n  background-image: url("+n(i(39))+");\n}\n",""])},function(e,t,i){var n=i(43);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){e.exports=i.p+"src/res/button/screen1hover.png"},function(e,t,i){e.exports=i.p+"src/res/button/screen1.png"},function(e,t,i){e.exports=i.p+"src/res/button/screenhover.png"},function(e,t,i){e.exports=i.p+"src/res/button/screen.png"},function(e,t,i){var n=i(6);(e.exports=i(2)(!1)).push([e.i,".ya-screen-btn {\n  float: right;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  background: url("+n(i(48))+");\n  margin-right: 25px;\n  margin-top: 11px;\n}\n.ya-screen-btn:hover {\n  width: 20px;\n  height: 20px;\n  background: url("+n(i(47))+");\n}\n.ya-screen-btn1 {\n  width: 20px;\n  height: 20px;\n  background: url("+n(i(46))+");\n}\n.ya-screen-btn1:hover {\n  width: 20px;\n  height: 20px;\n  background: url("+n(i(45))+");\n}\n",""])},function(e,t,i){var n=i(49);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){e.exports=i.p+"src/res/button/play1hover.png"},function(e,t,i){e.exports=i.p+"src/res/button/play1.png"},function(e,t,i){e.exports=i.p+"src/res/button/playhover.png"},function(e,t,i){e.exports=i.p+"src/res/button/play.png"},function(e,t,i){var n=i(6);(e.exports=i(2)(!1)).push([e.i,".ya-play-btn {\n  float: left;\n  width: 18px;\n  height: 20px;\n  cursor: pointer;\n  background-repeat: no-repeat;\n  background-image: url("+n(i(54))+");\n  margin-left: 25px;\n  margin-top: 11px;\n}\n.ya-play-btn:hover {\n  width: 18px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-image: url("+n(i(53))+");\n}\n.ya-play-btn1 {\n  width: 18px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-image: url("+n(i(52))+");\n}\n.ya-play-btn1:hover {\n  width: 18px;\n  height: 20px;\n  background-repeat: no-repeat;\n  background-image: url("+n(i(51))+");\n}\n",""])},function(e,t,i){var n=i(55);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".sharpness-item {\n  font-size: 16px;\n  color: #999999;\n  width: 80px;\n  text-align: center;\n  line-height: 16px;\n}\n\n.sharpness-item-statu1 {\n  color: #ff8800;\n}\n.sharpness-item-statu0:hover {\n  color: #ff8800;\n}\n",""])},function(e,t,i){var n=i(57);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".ya-music-tips {\r\n  position: absolute;\r\n  display: none;\r\n  width: 50px;\r\n  height: 150px;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  border-radius: 6px;\r\n}\r\n\r\n.ya-music-tips-bg {\r\n  width: 4px;\r\n  height: 120px;\r\n  background: #494949;\r\n  position: absolute;\r\n  left: 22px;\r\n  top: 18px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.ya-music-tips-container {\r\n  top: 18px;\r\n  left: 22px;\r\n  position: absolute;\r\n}\r\n.ya-music-tips-probg {\r\n  position: absolute;\r\n  width: 4px;\r\n  height: 120px;\r\n  background: #ff8800;\r\n  border-radius: 4px;\r\n}\r\n.ya-music-tips-event {\r\n  position: absolute;\r\n  width: 10px;\r\n  height: 120px;\r\n  cursor: pointer;\r\n  left: -5px;\r\n}\r\n.ya-music-tips-btn-container {\r\n  left: -6px;\r\n  position: absolute;\r\n}\r\n.ya-music-tips-btn-position {\r\n  width: 16px;\r\n  height: 16px;\r\n  top: -8px;\r\n  position: absolute;\r\n  background-color: rgba(255, 136, 0, 0.4);\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n}\r\n.ya-music-tips-btn:hover {\r\n  background-repeat: no-repeat;\r\n}\r\n.ya-music-tips-btn {\r\n  position: absolute;\r\n}\r\n.ya-music-tips-btn-bg {\r\n  width: 12px;\r\n  height: 12px;\r\n  left: 2px;\r\n  top: -6px;\r\n  background-color: rgba(255, 255, 255);\r\n  cursor: pointer;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n}\r\n.ya-music-tips-describe {\r\n  right: 20px;\r\n  bottom: -10px;\r\n  height: 12px;\r\n  font-size: 8px;\r\n  border-radius: 2px;\r\n  line-height: 12px;\r\n  padding: 4px;\r\n  text-align: center;\r\n  position: absolute;\r\n  color: aliceblue;\r\n  text-align: center;\r\n  background-color: #232323;\r\n}\r\n",""])},function(e,t,i){var n=i(59);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".ya-describe-tips {\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  position: absolute;\r\n  color: #999999;\r\n  z-index: 3;\r\n  display: none;\r\n  padding: 5px 6px;\r\n  text-align: center;\r\n  border-radius: 15px;\r\n  font-size: 14px;\r\n}\r\n",""])},function(e,t,i){var n=i(61);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,'.ya-controlbar-view {\r\n  width: 100%;\r\n  height: 40px;\r\n  background: #232323;\r\n  bottom: 0px;\r\n  position: absolute;\r\n}\r\n\r\n/* .ya-screen-btn {\r\n  cursor: pointer;\r\n  width: 26px;\r\n  height: 26px;\r\n  margin-right: 8px;\r\n  margin-top: 8px;\r\n  float: right;\r\n  background: url("../../../../res/button/screen_normal.png");\r\n}\r\n.ya-screen-btn:hover {\r\n  background: url("../../../../res/button/screen_over.png");\r\n}\r\n.ya-screen-btn1 {\r\n  background: url("../../../../res/button/screen1_normal.png");\r\n}\r\n.ya-screen-btn1:hover {\r\n  background: url("../../../../res/button/screen1_over.png");\r\n}\r\n\r\n.ya-play-btn {\r\n  cursor: pointer;\r\n  width: 23px;\r\n  height: 25px;\r\n  margin-left: 8px;\r\n  margin-top: 8px;\r\n  float: left;\r\n  background: url("../../../../res/button/play_normal.png");\r\n}\r\n.ya-play-btn:hover {\r\n  background: url("../../../../res/button/play_over.png");\r\n}\r\n.ya-play-btn1 {\r\n  background: url("../../../../res/button/play1_normal.png");\r\n}\r\n.ya-play-btn1:hover {\r\n  background: url("../../../../res/button/play1_over.png");\r\n}\r\n\r\n.ya-sharpness-btn {\r\n  cursor: pointer;\r\n  width: 58px;\r\n  height: 28px;\r\n  margin-top: 6px;\r\n  margin-right: 8px;\r\n  float: right;\r\n  background: url("../../../../res/button/sharpness_normal.png");\r\n}\r\n.ya-sharpness-btn:hover {\r\n  background: url("../../../../res/button/sharpness_over.png");\r\n}\r\n.ya-sharpness-btn1 {\r\n  background: url("../../../../res/button/sharpness_normal.png");\r\n}\r\n.ya-sharpness-btn1:hover {\r\n  background: url("../../../../res/button/sharpness_over.png");\r\n}\r\n\r\n.ya-animation-btn {\r\n  cursor: pointer;\r\n  width: 65px;\r\n  height: 28px;\r\n  margin-top: 6px;\r\n  margin-right: 8px;\r\n  float: right;\r\n  background: url("../../../../res/button/animation_first_normal.png");\r\n}\r\n.ya-animation-btn:hover {\r\n  background: url("../../../../res/button/animation_first_over.png");\r\n}\r\n\r\n.ya-rotate-btn {\r\n  cursor: pointer;\r\n  width: 26px;\r\n  height: 26px;\r\n  margin-top: 8px;\r\n  margin-right: 8px;\r\n  float: right;\r\n  background: url("../../../../res/button/rotate_normal.png");\r\n}\r\n.ya-rotate-btn:hover {\r\n  background: url("../../../../res/button/rotate_over.png");\r\n}\r\n.ya-rotate-btn1 {\r\n  background: url("../../../../res/button/rotate_normal.png");\r\n}\r\n.ya-rotate-btn1:hover {\r\n  background: url("../../../../res/button/rotate_over.png");\r\n}\r\n\r\n.ya-music-btn {\r\n  cursor: pointer;\r\n  width: 26px;\r\n  height: 26px;\r\n  margin-top: 7px;\r\n  margin-right: 8px;\r\n  float: right;\r\n  background: url("../../../../res/button/music_normal.png");\r\n}\r\n.ya-music-btn:hover {\r\n  background: url("../../../../res/button/music_over.png");\r\n}\r\n.ya-music-btn1 {\r\n  background: url("../../../../res/button/music1_normal.png");\r\n}\r\n.ya-music-btn1:hover {\r\n  background: url("../../../../res/button/music1_over.png");\r\n}\r\n\r\n.ya-bullet-btn {\r\n  cursor: pointer;\r\n  width: 20px;\r\n  height: 18px;\r\n  margin-top: 12px;\r\n  margin-right: 8px;\r\n  float: right;\r\n  background: url("../../../../res/button/bullet_normal.png");\r\n}\r\n.ya-bullet-btn:hover {\r\n  background: url("../../../../res/button/bullet_over.png");\r\n}\r\n.ya-bullet-btn1 {\r\n  background: url("../../../../res/button/bullet1_normal.png");\r\n}\r\n.ya-bullet-btn1:hover {\r\n  background: url("../../../../res/button/bullet1_over.png");\r\n} */',""])},function(e,t,i){var n=i(63);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".ya-flash-video {\n  width: 100%;\n  height: 100%;\n}\n.ya-h5-video {\n  width: 100%;\n  height: 100%;\n}\n",""])},function(e,t,i){var n=i(65);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,i){e.exports=i.p+"src/res/component/loading1.gif"},function(e,t,i){var n=i(6);(e.exports=i(2)(!1)).push([e.i,".ya-videoload {\n  width: 400px;\n  height: 200px;\n  top: 50%;\n  left: 50%;\n  margin-top: -100px;\n  margin-left: -200px;\n  position: absolute;\n  background: url("+n(i(67))+");\n}\n",""])},function(e,t,i){var n=i(68);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)},function(e,t){var i=arguments[3],n=arguments[4],r=arguments[5],s=JSON.stringify;e.exports=function(e,t){for(var a,o=Object.keys(r),l=0,h=o.length;l<h;l++){var u=o[l],d=r[u].exports;if(d===e||d&&d.default===e){a=u;break}}if(!a){a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var c={};for(l=0,h=o.length;l<h;l++){c[u=o[l]]=u}n[a]=["function(require,module,exports){"+e+"(self); }",c]}var p=Math.floor(Math.pow(16,8)*Math.random()).toString(16),f={};f[a]=a,n[p]=["function(require,module,exports){var f = require("+s(a)+");(f.default ? f.default : f)(self);}",f];var _={};!function e(t){_[t]=!0;for(var i in n[t][1]){var r=n[t][1][i];_[r]||e(r)}}(p);var m="("+i+")({"+Object.keys(_).map(function(e){return s(e)+":["+n[e][0]+","+s(n[e][1])+"]"}).join(",")+"},{},["+s(p)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,y=new Blob([m],{type:"text/javascript"});if(t&&t.bare)return y;var v=g.createObjectURL(y),b=new Worker(v);return b.objectURL=v,b}},function(e,t,i){(function(t,i){var n;n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,s=void 0,a=void 0,o=function(e,t){f[r]=e,f[r+1]=t,2===(r+=2)&&(a?a(_):b())};var l="undefined"!=typeof window?window:void 0,h=l||{},u=h.MutationObserver||h.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),c="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(_,1)}}var f=new Array(1e3);function _(){for(var e=0;e<r;e+=2){(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0}r=0}var m,g,y,v,b=void 0;function E(e,t){var i=this,n=new this.constructor(w);void 0===n[x]&&F(n);var r=i._state;if(r){var s=arguments[r-1];o(function(){return U(r,n,s,i._result)})}else M(i,n,e,t);return n}function S(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(w);return D(t,e),t}d?b=function(){return t.nextTick(_)}:u?(g=0,y=new u(_),v=document.createTextNode(""),y.observe(v,{characterData:!0}),b=function(){v.data=g=++g%2}):c?((m=new MessageChannel).port1.onmessage=_,b=function(){return m.port2.postMessage(0)}):b=void 0===l?function(){try{var e=Function("return this")().require("vertx");return void 0!==(s=e.runOnLoop||e.runOnContext)?function(){s(_)}:p()}catch(e){return p()}}():p();var x=Math.random().toString(36).substring(2);function w(){}var L=void 0,T=1,k=2,A={error:null};function C(e){try{return e.then}catch(e){return A.error=e,A}}function R(t,i,n){i.constructor===t.constructor&&n===E&&i.constructor.resolve===S?function(e,t){t._state===T?B(e,t._result):t._state===k?O(e,t._result):M(t,void 0,function(t){return D(e,t)},function(t){return O(e,t)})}(t,i):n===A?(O(t,A.error),A.error=null):void 0===n?B(t,i):e(n)?function(e,t,i){o(function(e){var n=!1,r=function(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}(i,t,function(i){n||(n=!0,t!==i?D(e,i):B(e,i))},function(t){n||(n=!0,O(e,t))},e._label);!n&&r&&(n=!0,O(e,r))},e)}(t,i,n):B(t,i)}function D(e,t){var i,n;e===t?O(e,new TypeError("You cannot resolve a promise with itself")):(n=typeof(i=t),null===i||"object"!==n&&"function"!==n?B(e,t):R(e,t,C(t)))}function I(e){e._onerror&&e._onerror(e._result),N(e)}function B(e,t){e._state===L&&(e._result=t,e._state=T,0!==e._subscribers.length&&o(N,e))}function O(e,t){e._state===L&&(e._state=k,e._result=t,o(I,e))}function M(e,t,i,n){var r=e._subscribers,s=r.length;e._onerror=null,r[s]=t,r[s+T]=i,r[s+k]=n,0===s&&e._state&&o(N,e)}function N(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,r=void 0,s=e._result,a=0;a<t.length;a+=3)n=t[a],r=t[a+i],n?U(i,n,r,s):r(s);e._subscribers.length=0}}function U(t,i,n,r){var s=e(n),a=void 0,o=void 0,l=void 0,h=void 0;if(s){if((a=function(e,t){try{return e(t)}catch(e){return A.error=e,A}}(n,r))===A?(h=!0,o=a.error,a.error=null):l=!0,i===a)return void O(i,new TypeError("A promises callback cannot return that same promise."))}else a=r,l=!0;i._state!==L||(s&&l?D(i,a):h?O(i,o):t===T?B(i,a):t===k&&O(i,a))}var P=0;function F(e){e[x]=P++,e._state=void 0,e._result=void 0,e._subscribers=[]}var V=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(w),this.promise[x]||F(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?B(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&B(this.promise,this._result))):O(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===L&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===S){var r=C(e);if(r===E&&e._state!==L)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(i===j){var s=new i(w);R(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new i(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,i){var n=this.promise;n._state===L&&(this._remaining--,e===k?O(n,i):this._result[t]=i),0===this._remaining&&B(n,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;M(e,void 0,function(e){return i._settledAt(T,t,e)},function(e){return i._settledAt(k,t,e)})},e}();var j=function(){function e(t){this[x]=P++,this._result=this._state=void 0,this._subscribers=[],w!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(e,t){try{t(function(t){D(e,t)},function(t){O(e,t)})}catch(t){O(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(e){return this.then(null,e)},e.prototype.finally=function(e){var t=this.constructor;return this.then(function(i){return t.resolve(e()).then(function(){return i})},function(i){return t.resolve(e()).then(function(){throw i})})},e}();return j.prototype.then=E,j.all=function(e){return new V(this,e).promise},j.race=function(e){var t=this;return n(e)?new t(function(i,n){for(var r=e.length,s=0;s<r;s++)t.resolve(e[s]).then(i,n)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},j.resolve=S,j.reject=function(e){var t=new this(w);return O(t,e),t},j._setScheduler=function(e){a=e},j._setAsap=function(e){o=e},j._asap=o,j.polyfill=function(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=j},j.Promise=j,j},e.exports=n()}).call(this,i(13),i(14))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var i=t.protocol+"//"+t.host,n=i+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,s=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?e:(r=0===s.indexOf("//")?s:0===s.indexOf("/")?i+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},function(e,t,i){(e.exports=i(2)(!1)).push([e.i,".ya-player {\r\n  width: 100%;\r\n  height: 100%;\r\n  position: relative;\r\n}\r\n\r\n.ya-video {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n.ya-controlbar {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 40px;\r\n  bottom: 0px;\r\n}\r\n\r\n.ya-video-layer,\r\n.ya-danmuku-layer,\r\n.ya-bar-layer,\r\n.ya-gift-layer,\r\n.ya-load-layer {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.ya-tips-layer{\r\n position: absolute;\r\n width: 0px;\r\n height: 0px;\r\n}\r\n",""])},function(e,t,i){var n=i(75);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(1)(n,r);n.locals&&(e.exports=n.locals)}]);